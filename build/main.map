{"version":3,"sources":["webpack:///webpack/bootstrap 00fe6acc8ca333ef032d","webpack:///external \"sequelize\"","webpack:///external \"feathers-sequelize\"","webpack:///external \"@feathersjs/authentication\"","webpack:///external \"feathers-authentication-hooks\"","webpack:///external \"path\"","webpack:///./src/hooks/get-after.js","webpack:///external \"fs\"","webpack:///external \"winston\"","webpack:///external \"feathers-hooks-common\"","webpack:///external \"@feathersjs/authentication-local\"","webpack:///external \"feathers-authentication-management\"","webpack:///./src/notifier.js","webpack:///./src/tiler.js","webpack:///external \"@mapbox/mbtiles\"","webpack:///external \"zlib\"","webpack:///external \"wellknown\"","webpack:///external \"reproject\"","webpack:///external \"epsg\"","webpack:///./src/hooks/db-before.js","webpack:///./src/index.js","webpack:///./src/app.js","webpack:///external \"serve-favicon\"","webpack:///external \"compression\"","webpack:///external \"cors\"","webpack:///external \"helmet\"","webpack:///external \"@feathersjs/feathers\"","webpack:///external \"@feathersjs/configuration\"","webpack:///external \"@feathersjs/express\"","webpack:///external \"@feathersjs/socketio\"","webpack:///./src/middleware/index.js","webpack:///./src/services/index.js","webpack:///./src/services/users/users.service.js","webpack:///./src/models/users.model.js","webpack:///./src/services/users/users.hooks.js","webpack:///./src/hooks/send-verification-email.js","webpack:///external \"pug\"","webpack:///./src/hooks/user-before.js","webpack:///./src/hooks/user-client-after.js","webpack:///./src/hooks/users-restrict.js","webpack:///external \"@feathersjs/errors\"","webpack:///./src/services/roles/roles.service.js","webpack:///./src/models/roles.model.js","webpack:///./src/services/roles/roles.hooks.js","webpack:///./src/services/email/email.service.js","webpack:///external \"feathers-mailer\"","webpack:///./src/services/email/email.hooks.js","webpack:///external \"nodemailer-smtp-transport\"","webpack:///./src/services/companies/companies.service.js","webpack:///./src/models/companies.model.js","webpack:///./src/services/companies/companies.hooks.js","webpack:///./src/services/cvr/cvr.service.js","webpack:///external \"feathers-elasticsearch\"","webpack:///./src/models/cvr.model.js","webpack:///external \"elasticsearch\"","webpack:///./src/services/cvr/cvr.hooks.js","webpack:///./src/services/fonts/fonts.service.js","webpack:///./src/services/fonts/fonts.class.js","webpack:///./src/services/fonts/fonts.hooks.js","webpack:///./src/services/files/files.service.js","webpack:///./src/services/files/files.class.js","webpack:///./src/services/files/files.hooks.js","webpack:///external \"multer\"","webpack:///./src/services/datasources/datasources.service.js","webpack:///./src/models/datasources.model.js","webpack:///./src/services/datasources/datasources.hooks.js","webpack:///./src/hooks/tile.js","webpack:///external \"geojson-vt\"","webpack:///external \"vt-pbf\"","webpack:///external \"@turf/bbox\"","webpack:///external \"@turf/center-of-mass\"","webpack:///./src/hooks/remove-mbtile.js","webpack:///./src/hooks/datasources-before.js","webpack:///./src/services/projects/projects.service.js","webpack:///./src/models/projects.model.js","webpack:///./src/services/projects/projects.hooks.js","webpack:///./src/hooks/projects-before.js","webpack:///./src/services/geometries/geometries.service.js","webpack:///./src/models/geometries.model.js","webpack:///./src/services/geometries/geometries.hooks.js","webpack:///./src/hooks/geometries-before-find.js","webpack:///./src/services/totals/totals.service.js","webpack:///./src/services/totals/totals.class.js","webpack:///external \"pg\"","webpack:///./src/services/totals/totals.hooks.js","webpack:///./src/hooks/totals-before.js","webpack:///./src/services/db/db.service.js","webpack:///./src/services/db/db.class.js","webpack:///./src/services/db/db.hooks.js","webpack:///./src/services/extent/extent.service.js","webpack:///./src/services/extent/extent.class.js","webpack:///./src/services/extent/extent.hooks.js","webpack:///./src/services/styles/styles.service.js","webpack:///./src/models/styles.model.js","webpack:///./src/services/styles/styles.hooks.js","webpack:///./src/hooks/styles-before.js","webpack:///./src/services/layers/layers.service.js","webpack:///./src/models/layers.model.js","webpack:///./src/services/layers/layers.hooks.js","webpack:///./src/hooks/layers-before.js","webpack:///./src/services/clients/clients.service.js","webpack:///./src/models/clients.model.js","webpack:///./src/services/clients/clients.hooks.js","webpack:///./src/hooks/clients-before.js","webpack:///./src/services/datasourcetypes/datasourcetypes.service.js","webpack:///./src/models/datasourcetypes.model.js","webpack:///./src/services/datasourcetypes/datasourcetypes.hooks.js","webpack:///./src/services/tiles/tiles.service.js","webpack:///./src/services/tiles/tiles.class.js","webpack:///./src/services/tiles/tiles.hooks.js","webpack:///external \"sharp\"","webpack:///./src/services/tools/tools.service.js","webpack:///./src/models/tools.model.js","webpack:///./src/services/tools/tools.hooks.js","webpack:///./src/hooks/tools-before.js","webpack:///./src/services/projects-tools/projects-tools.service.js","webpack:///./src/models/projects-tools.model.js","webpack:///./src/services/projects-tools/projects-tools.hooks.js","webpack:///./src/hooks/projects-tools-before.js","webpack:///./src/services/logos/logos.service.js","webpack:///./src/models/logos.model.js","webpack:///./src/services/logos/logos.hooks.js","webpack:///./src/app.hooks.js","webpack:///./src/hooks/logger.js","webpack:///./src/channels.js","webpack:///./src/authentication.js","webpack:///external \"@feathersjs/authentication-jwt\"","webpack:///external \"feathers-authentication-ldap\"","webpack:///./src/ldap.js","webpack:///./src/sequelize.js","webpack:///./src/seed/index.js","webpack:///./src/seed/roles.js","webpack:///./src/seed/companies.js","webpack:///./src/seed/datasourcetypes.js"],"names":["module","exports","options","context","service","get","result","id","then","path","require","pug","isProd","returnEmail","app","getLink","type","hash","port","host","protocal","sendEmail","email","create","console","log","catch","err","notifier","user","notifierOptions","hashLink","emailAccountTemplatesPath","join","__dirname","templatePath","compiledHTML","verifyToken","renderFile","logo","name","from","to","subject","html","resetToken","geojsonvt","MBTiles","vtpbf","zlib","fs","bbox","centerOfMass","filePath","process","env","MBTILES","Tiler","data","_service","_features","_current","_last","_data","Object","assign","_id","_mbtilesFile","prototype","remove","Promise","resolve","reject","unlink","putTile","_tileIndex","tileCoords","length","center","geojson","_mbtiles","putInfo","bounds","geometry","coordinates","version","description","format","map","minzoom","maxzoom","fields","stopWriting","close","progress","Math","round","patch","item","tile","getTile","z","x","y","layers","features","forEach","feature","layername","tags","indexOf","push","hasOwnProperty","layers2","keys","key","layer","GeoJSONWrapper","buff","fromVectorTileJs","buffer","Buffer","gzip","debug","maxZoom","indexMaxZoom","indexMaxPoints","tileIndex","mbtiles","startWriting","hook","params","logger","server","listen","on","reason","p","error","info","favicon","compress","cors","helmet","feathers","configuration","express","socketio","middleware","services","appHooks","channels","authentication","sequelize","configure","use","json","limit","urlencoded","extended","static","rest","notFound","errorHandler","hooks","users","roles","companies","cvr","fonts","files","datasources","projects","geometries","totals","db","extent","styles","clients","datasourcetypes","tiles","tools","projectsTools","logos","createService","createModel","Model","paginate","default","max","Sequelize","DataTypes","sequelizeClient","define","UUID","primaryKey","defaultValue","UUIDV4","STRING","allowNull","unique","password","isEnabled","BOOLEAN","isVerified","verifyShortToken","verifyExpires","DATE","verifyChanges","JSONB","resetShortToken","resetExpires","beforeCount","raw","associate","models","belongsTo","authenticate","commonHooks","restrictToOwner","hashPassword","verifyHooks","restrict","idField","ownerField","sendVerificationEmail","userBefore","userClientAfter","usersRestrict","before","all","find","addVerification","update","disallow","iff","isProvider","preventChanges","after","when","provider","discard","removeVerification","accountService","include","model","query","errors","NotAuthenticated","NotAcceptable","role","companyId","Forbidden","NotFound","Mailer","smtpTransport","TEXT","elasticsearch","index","Client","apiVersion","Service","constructor","text","Array","isArray","current","multer","storage","diskStorage","destination","req","file","cb","filename","body","multipartMiddleware","single","readdir","filter","extname","basename","readFile","FLOAT","onDelete","removeMbtile","datasourcesBefore","getAfter","associateCurrentUser","tiler","geometryService","crs","properties","datasourceId","geom","res","attributes","public","projectsBefore","GEOMETRY","geometriesBeforeFind","$pagination","fn","cast","group","connectionString","Pool","pool","sql","projectId","JSON","stringify","substring","rows","totalsBefore","parse","reproj","epsg","mssql","meta","geometryColumn","dbTable","QueryTypes","SELECT","wkt","srid","toWgs84","st_asgeojson","dbBefore","light","dark","stylesBefore","priority","INTEGER","active","isDark","isBasemap","layersBefore","clientsBefore","sharp","empty","width","height","background","r","g","b","alpha","png","toBuffer","next","set","send","isGzipped","slice","status","PORT","urlPrefix","URL_PREFIX","mbtilesFile","source","headers","stat","stats","isFile","size","instance","getInfo","toolsBefore","projects_tools","projectsToolsBefore","method","toJSON","channel","connection","authResult","leave","connections","publish","jwt","local","authManagement","ldap","LDAPVerifier","config","Verifier","strategies","Error","verify","bind","_normalizeResult","results","entities","entity","done","usernameField","entityUsernameField","mail","undefined","response","payload","message","seed","dialect","logging","freezeTableName","oldSetup","setup","args","apply","sync","rolesData","companiesData","datasourcetypesData","ifEmptyCreate2","ifEmptyCreate","found","Number","isInteger","total","$lt","system","admin","basic","cvrno","client","database","geotiff"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 00fe6acc8ca333ef032d","module.exports = require(\"sequelize\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sequelize\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"feathers-sequelize\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-sequelize\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"@feathersjs/authentication\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@feathersjs/authentication\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"feathers-authentication-hooks\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-authentication-hooks\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 4\n// module chunks = 0","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    return context.service.get(context.result.id).then(result => {\n      context.result = result\n      return context\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/get-after.js","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"winston\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"winston\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"feathers-hooks-common\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-hooks-common\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"@feathersjs/authentication-local\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@feathersjs/authentication-local\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"feathers-authentication-management\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-authentication-management\"\n// module id = 10\n// module chunks = 0","const path = require('path')\nconst pug = require('pug')\nconst isProd = process.env.NODE_ENV === 'production'\nconst returnEmail = 'noreply@le34.dk'\nmodule.exports = function (app) {\n  function getLink (type, hash) {\n    var port = isProd ? '' : ':3000'\n    var host = isProd ? 'survey.le34.dk' : 'localhost'\n    var protocal = isProd ? 'https' : 'http'\n    protocal += '://'\n    return `${protocal}${host}${port}/${type}/${hash}`\n  }\n  function sendEmail (email) {\n    return app.service('email').create(email).then(function (result) {\n      console.log('Sent email', result)\n    }).catch(err => {\n      console.log('Error sending email', err)\n    })\n  }\n  return {\n    notifier: function (type, user, notifierOptions) {\n      console.log(`-- Preparing email for ${type}`)\n      var hashLink\n      var email\n      var emailAccountTemplatesPath = path.join(__dirname, 'email-templates')\n      console.log('emailAccountTemplatesPath', emailAccountTemplatesPath)\n      var templatePath\n      var compiledHTML\n\n      switch (type) {\n        case 'resendVerifySignup': // send another email with link for verifying user's email addr\n\n          hashLink = getLink('verify', user.verifyToken)\n          console.log(hashLink)\n          templatePath = path.join(emailAccountTemplatesPath, 'verify-email.pug')\n\n          compiledHTML = pug.renderFile(templatePath, {\n            logo: '',\n            name: user.name || user.email,\n            hashLink,\n            returnEmail\n          })\n\n          email = {\n            from: returnEmail,\n            to: user.email,\n            subject: 'Confirm Signup',\n            html: compiledHTML\n          }\n\n          return sendEmail(email)\n        case 'sendResetPwd': // inform that user's email is now confirmed\n\n          hashLink = getLink('reset', user.resetToken)\n\n          templatePath = path.join(emailAccountTemplatesPath, 'reset-password.pug')\n\n          compiledHTML = pug.renderFile(templatePath, {\n            logo: '',\n            name: user.name || user.email,\n            hashLink,\n            returnEmail\n          })\n\n          email = {\n            from: returnEmail,\n            to: user.email,\n            subject: 'Reset Password',\n            html: compiledHTML\n          }\n\n          return sendEmail(email)\n        case 'resetPwd': // inform that user's email is now confirmed\n\n          hashLink = getLink('reset', user.resetToken)\n\n          templatePath = path.join(emailAccountTemplatesPath, 'password-was-reset.pug')\n\n          compiledHTML = pug.renderFile(templatePath, {\n            logo: '',\n            name: user.name || user.email,\n            hashLink,\n            returnEmail\n          })\n\n          email = {\n            from: returnEmail,\n            to: user.email,\n            subject: 'Your password was reset',\n            html: compiledHTML\n          }\n\n          return sendEmail(email)\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/notifier.js","/* eslint no-new: 0 */\nvar geojsonvt = require('geojson-vt')\nvar MBTiles = require('@mapbox/mbtiles')\nvar path = require('path')\nvar vtpbf = require('vt-pbf')\nvar zlib = require('zlib')\nvar fs = require('fs')\nvar bbox = require('@turf/bbox')\nvar centerOfMass = require('@turf/center-of-mass')\nconst filePath = process.env.MBTILES\nmodule.exports = Tiler\n\nfunction Tiler (id, data, service) {\n  this._service = service\n  this._features = []\n  this._current = 0\n  this._last = 0\n  this._data = Object.assign({}, data)\n  this._id = id\n  // this._mbtilesFile = path.join(__dirname, 'data', data.id + '.mbtiles')\n  this._mbtilesFile = path.join(filePath, id + '.mbtiles')\n}\n\nTiler.prototype.remove = function () {\n  return new Promise((resolve, reject) => {\n    fs.unlink(this._mbtilesFile, () => {\n      resolve()\n    })\n  })\n}\n\nTiler.prototype.putTile = function () {\n  if (this._current === this._tileIndex.tileCoords.length) {\n    var center = centerOfMass(this._data.geojson)\n    this._mbtiles.putInfo({\n      bounds: bbox(this._data.geojson),\n      center: [center.geometry.coordinates[0], center.geometry.coordinates[1], 16],\n      version: '2',\n      name: this._id,\n      description: this._data.name,\n      type: 'overlay',\n      format: 'pbf',\n      'vector_layers': this._features.map((id) => {\n        return {\n          id: id, description: '', minzoom: 0, maxzoom: 22, fields: {}\n        }\n      })\n    }, () => {\n      this._mbtiles.stopWriting(() => {\n        this._mbtiles.close(() => {\n          console.log('closed')\n        })\n      })\n    })\n  } else {\n    const progress = Math.round(100 * (this._current + 1) / this._tileIndex.tileCoords.length)\n    Promise.resolve().then(() => {\n      if (progress > this._last) {\n        this._last = progress\n        return this._service.patch(this._id, { progress })\n      }\n    }).then(() => {\n      const item = this._tileIndex.tileCoords[this._current]\n      var tile = this._tileIndex.getTile(item.z, item.x, item.y)\n      var layers = {}\n      tile.features.forEach((feature) => {\n        let layername = feature.tags.feature || this._id\n        if (this._features.indexOf(layername) === -1) {\n          this._features.push(layername)\n        }\n        if (!layers.hasOwnProperty(layername)) {\n          layers[layername] = []\n        }\n        layers[layername].push(feature)\n      })\n      var layers2 = {}\n      Object.keys(layers).forEach((key) => {\n        var layer = new vtpbf.GeoJSONWrapper(layers[key])\n        layer.name = key\n        layer.version = 2\n        layers2[key] = layer\n      })\n      var buff = vtpbf.fromVectorTileJs({\n        layers: layers2\n      })\n      var buffer = Buffer.from(buff)\n      zlib.gzip(buffer, (err, result) => {\n        if (!err) {\n          this._mbtiles.putTile(item.z, item.x, item.y, result, () => {\n            this._current++\n            this.putTile()\n          })\n        }\n      })\n    })\n  }\n}\n\nTiler.prototype.create = function () {\n  Promise.resolve().then(() => {\n    return geojsonvt(this._data.geojson, { debug: 0, maxZoom: 20, indexMaxZoom: 20, indexMaxPoints: 0 })\n  }).then((tileIndex) => {\n    this._tileIndex = tileIndex\n    return this.remove()\n  }).then(() => {\n    return new Promise((resolve, reject) => {\n      new MBTiles(this._mbtilesFile, (err, mbtiles) => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve(mbtiles)\n        }\n      })\n    })\n  }).then((mbtiles) => {\n    this._mbtiles = mbtiles\n    return new Promise((resolve, reject) => {\n      mbtiles.startWriting(err => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve()\n        }\n      })\n    })\n  }).then(() => {\n    this.putTile()\n  }).catch((err) => {\n    console.log(err)\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tiler.js","module.exports = require(\"@mapbox/mbtiles\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@mapbox/mbtiles\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"zlib\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"zlib\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"wellknown\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"wellknown\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"reproject\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"reproject\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"epsg\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"epsg\"\n// module id = 17\n// module chunks = 0","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return hook => {\n    return hook.app.service('datasources').get(hook.id).then(result => {\n      hook.params.data = result\n      return Promise.resolve(hook)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/db-before.js","/* eslint-disable no-console */\nconst logger = require('winston')\nconst app = require('./app')\nconst port = app.get('port')\nconst server = app.listen(port)\n\nprocess.on('unhandledRejection', (reason, p) =>\n  logger.error('Unhandled Rejection at: Promise ', p, reason)\n)\n\nserver.on('listening', () =>\n  logger.info('Feathers application started on http://%s:%d', app.get('host'), port)\n)\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const path = require('path')\nconst favicon = require('serve-favicon')\nconst compress = require('compression')\nconst cors = require('cors')\nconst helmet = require('helmet')\nconst logger = require('winston')\n\nconst feathers = require('@feathersjs/feathers')\nconst configuration = require('@feathersjs/configuration')\nconst express = require('@feathersjs/express')\n// const rest = require('@feathersjs/express/rest')\nconst socketio = require('@feathersjs/socketio')\n\n// const handler = require('@feathersjs/express/errors')\n// const notFound = require('feathers-errors/not-found')\n\nconst middleware = require('./middleware')\nconst services = require('./services')\nconst appHooks = require('./app.hooks')\nconst channels = require('./channels')\n\nconst authentication = require('./authentication')\n\nconst sequelize = require('./sequelize')\n\nconst app = express(feathers())\n\n// Load app configuration\napp.configure(configuration())\n// Enable CORS, security, compression, favicon and body parsing\napp.use(cors())\napp.use(helmet())\napp.use(compress())\napp.use(express.json({ limit: '1gb' }))\napp.use(express.urlencoded({ extended: true }))\napp.use(favicon(path.join(app.get('public'), 'favicon.ico')))\n// Host the public folder\napp.use('/', express.static(app.get('public')))\n\n// Set up Plugins and providers\napp.configure(express.rest())\napp.configure(socketio())\n\napp.configure(sequelize)\n\n// Configure other middleware (see `middleware/index.js`)\napp.configure(middleware)\napp.configure(authentication)\n// Set up our services (see `services/index.js`)\napp.configure(services)\n// Set up event channels (see channels.js)\napp.configure(channels)\n\n// Configure a middleware for 404s and the error handler\napp.use(express.notFound())\napp.use(express.errorHandler({ logger }))\n\napp.hooks(appHooks)\n\nmodule.exports = app\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","module.exports = require(\"serve-favicon\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-favicon\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"compression\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"compression\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"cors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cors\"\n// module id = 24\n// module chunks = 0","module.exports = require(\"helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"helmet\"\n// module id = 25\n// module chunks = 0","module.exports = require(\"@feathersjs/feathers\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@feathersjs/feathers\"\n// module id = 26\n// module chunks = 0","module.exports = require(\"@feathersjs/configuration\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@feathersjs/configuration\"\n// module id = 27\n// module chunks = 0","module.exports = require(\"@feathersjs/express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@feathersjs/express\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"@feathersjs/socketio\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@feathersjs/socketio\"\n// module id = 29\n// module chunks = 0","module.exports = function () {\n  // Add your custom middleware here. Remember, that\n  // in Express the order matters\n  const app = this // eslint-disable-line no-unused-vars\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/index.js","const users = require('./users/users.service.js')\nconst roles = require('./roles/roles.service.js')\nconst email = require('./email/email.service.js')\nconst companies = require('./companies/companies.service.js')\nconst cvr = require('./cvr/cvr.service.js')\nconst fonts = require('./fonts/fonts.service.js')\nconst files = require('./files/files.service.js')\nconst datasources = require('./datasources/datasources.service.js')\nconst projects = require('./projects/projects.service.js')\nconst geometries = require('./geometries/geometries.service.js')\nconst totals = require('./totals/totals.service.js')\nconst db = require('./db/db.service.js')\nconst extent = require('./extent/extent.service.js')\nconst styles = require('./styles/styles.service.js')\nconst layers = require('./layers/layers.service.js')\n// const layerstyles = require('./layerstyles/layerstyles.service.js')\nconst clients = require('./clients/clients.service.js')\n\nconst datasourcetypes = require('./datasourcetypes/datasourcetypes.service.js')\n\nconst tiles = require('./tiles/tiles.service.js')\n\nconst tools = require('./tools/tools.service.js')\n\nconst projectsTools = require('./projects-tools/projects-tools.service.js')\n\nconst logos = require('./logos/logos.service.js')\n\nmodule.exports = function (app) {\n  app.configure(users)\n  app.configure(roles)\n  app.configure(email)\n  app.configure(companies)\n  app.configure(cvr)\n  app.configure(fonts)\n  app.configure(files)\n  app.configure(datasources)\n  app.configure(projects)\n  app.configure(geometries)\n  app.configure(totals)\n  app.configure(db)\n  app.configure(extent)\n  app.configure(styles)\n  app.configure(layers)\n  // app.configure(layerstyles)\n  app.configure(clients)\n  app.configure(datasourcetypes)\n  app.configure(tiles)\n  app.configure(tools)\n  app.configure(projectsTools)\n  app.configure(logos)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/index.js","// Initializes the `users` service on path `/users`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/users.model')\nconst hooks = require('./users.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  // const paginate = app.get('paginate')\n\n  const options = {\n    name: 'users',\n    Model,\n    paginate: {\n      default: 100,\n      max: 1000\n    }\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/users', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('users')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/users/users.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const users = sequelizeClient.define('users', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    email: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      unique: true\n    },\n    password: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      defaultValue: DataTypes.UUIDV4\n    },\n    isEnabled: {\n      type: DataTypes.BOOLEAN,\n      defaultValue: true\n    },\n    isVerified: { type: DataTypes.BOOLEAN },\n    verifyToken: { type: DataTypes.STRING },\n    verifyShortToken: { type: DataTypes.STRING },\n    verifyExpires: { type: DataTypes.DATE }, // or a long integer\n    verifyChanges: { type: DataTypes.JSONB }, // an object (key-value map), e.g. { field: \"value\" }\n    resetToken: { type: DataTypes.STRING },\n    resetShortToken: { type: DataTypes.STRING },\n    resetExpires: { type: DataTypes.DATE } // or a long integer\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  users.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n    models.users.belongsTo(models.companies)\n    models.users.belongsTo(models.roles)\n  }\n\n  return users\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/users.model.js","const { authenticate } = require('@feathersjs/authentication').hooks\nconst commonHooks = require('feathers-hooks-common')\nconst { restrictToOwner } = require('feathers-authentication-hooks')\nconst { hashPassword } = require('@feathersjs/authentication-local').hooks\nconst verifyHooks = require('feathers-authentication-management').hooks\nconst restrict = [\n  authenticate('jwt'),\n  restrictToOwner({\n    idField: 'id',\n    ownerField: 'id'\n  })\n]\n\nconst sendVerificationEmail = require('../../hooks/send-verification-email')\n\nconst userBefore = require('../../hooks/user-before')\n\nconst userClientAfter = require('../../hooks/user-client-after')\n\nconst usersRestrict = require('../../hooks/users-restrict')\n\nmodule.exports = {\n  before: {\n    all: [],\n    find: [authenticate('jwt'), userBefore()],\n    get: [authenticate('jwt'), userBefore()],\n    create: [hashPassword(), verifyHooks.addVerification()],\n    update: [commonHooks.disallow('external')],\n    patch: [\n      ...restrict,\n      commonHooks.iff(commonHooks.isProvider('external'), commonHooks.preventChanges(\n        'email',\n        'isVerified',\n        'verifyToken',\n        'verifyShortToken',\n        'verifyExpires',\n        'verifyChanges',\n        'resetToken',\n        'resetShortToken',\n        'resetExpires'\n      ))\n    ],\n    remove: [authenticate('jwt'), usersRestrict()]\n  },\n\n  after: {\n    all: [\n      commonHooks.when(\n        hook => hook.params.provider,\n        commonHooks.discard('password', 'verifyExpires', 'resetExpires', 'verifyChanges')\n      )\n    ],\n    find: [],\n    get: [],\n    create: [\n      sendVerificationEmail(),\n      verifyHooks.removeVerification(),\n      userClientAfter()\n    ],\n    update: [userClientAfter()],\n    patch: [userClientAfter()],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/users/users.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\nconst accountService = require('../notifier')\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return function sendVerificationEmail (hook) {\n    const user = hook.result\n    if (hook.params.provider && user) {\n      accountService(hook.app).notifier('resendVerifySignup', user)\n      return Promise.resolve(hook)\n    }\n    // Hooks can either return nothing or a promise\n    // that resolves with the `hook` object for asynchronous operations\n    return Promise.resolve(hook)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/send-verification-email.js","module.exports = require(\"pug\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pug\"\n// module id = 36\n// module chunks = 0","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return (hook) => {\n    hook.params.sequelize = {\n      include: [ { model: hook.app.services.companies.Model }, { model: hook.app.services.roles.Model } ]\n    }\n    return Promise.resolve(hook)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/user-before.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return function userClientAfter (hook) {\n    return hook.app.service('/users').find({ query: { id: hook.result.id } }).then(result => {\n      hook.result = result.data[0]\n      return Promise.resolve(hook)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/user-client-after.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\nconst errors = require('@feathersjs/errors')\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return function usersRestrict (hook) {\n    if (!hook.params.user) {\n      throw new errors.NotAuthenticated()\n    }\n    if (hook.params.user.id === hook.id) {\n      throw new errors.NotAcceptable('Du må ikke slette dig selv')\n    }\n    if (hook.params.user.role === 'system') {\n      return Promise.resolve(hook)\n    }\n    return hook.app.service('/users').find({ query: { id: hook.id } }).then(result => {\n      if (result.data.length === 1) {\n        const user = result.data[0]\n        if (hook.params.user.role === 'admin' && hook.params.user.companyId === user.companyId) {\n          return Promise.resolve(hook)\n        }\n        throw new errors.Forbidden('Du har ikke rettigheder til denne handling')\n      }\n      throw new errors.NotFound()\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/users-restrict.js","module.exports = require(\"@feathersjs/errors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@feathersjs/errors\"\n// module id = 40\n// module chunks = 0","// Initializes the `roles` service on path `/roles`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/roles.model')\nconst hooks = require('./roles.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'roles',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/roles', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('roles')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/roles/roles.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const roles = sequelizeClient.define('roles', {\n    name: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      unique: true\n    }\n  },\n  {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  roles.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n  }\n\n  return roles\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/roles.model.js","const { authenticate } = require('@feathersjs/authentication').hooks\n\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/roles/roles.hooks.js","// Initializes the `email` service on path `/email`\nconst Mailer = require('feathers-mailer')\nconst hooks = require('./email.hooks')\nconst smtpTransport = require('nodemailer-smtp-transport')\n\nmodule.exports = function (app) {\n  // Initialize our service with any options it requires\n  app.use('/email', Mailer(smtpTransport(app.get('mail'))))\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('email')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/email/email.service.js","module.exports = require(\"feathers-mailer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-mailer\"\n// module id = 45\n// module chunks = 0","const { disallow } = require('feathers-hooks-common')\n\nmodule.exports = {\n  before: {\n    all: [disallow('external')],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/email/email.hooks.js","module.exports = require(\"nodemailer-smtp-transport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nodemailer-smtp-transport\"\n// module id = 47\n// module chunks = 0","// Initializes the `company` service on path `/company`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/companies.model')\nconst hooks = require('./companies.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'companies',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/companies', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('companies')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/companies/companies.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const companies = sequelizeClient.define('companies', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    cvr: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  companies.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n  }\n\n  return companies\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/companies.model.js","const { authenticate } = require('@feathersjs/authentication').hooks\n\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/companies/companies.hooks.js","// Initializes the `cvr` service on path `/cvr`\nconst createService = require('feathers-elasticsearch')\nconst createModel = require('../../models/cvr.model')\nconst hooks = require('./cvr.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n  const elasticsearch = {\n    index: 'cvr-permanent',\n    type: 'virksomhed'\n  }\n  const options = {\n    id: 'id',\n    Model,\n    elasticsearch,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/cvr', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('cvr')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/cvr/cvr.service.js","module.exports = require(\"feathers-elasticsearch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-elasticsearch\"\n// module id = 52\n// module chunks = 0","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst elasticsearch = require('elasticsearch')\n\nmodule.exports = function (app) {\n  return new elasticsearch.Client({\n    host: 'http://LE34_CVR_I_SKYEN:33614fd2-976e-4e1a-af11-acaa0e1ec994@distribution.virk.dk',\n    apiVersion: '1.7'\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/cvr.model.js","module.exports = require(\"elasticsearch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"elasticsearch\"\n// module id = 54\n// module chunks = 0","const { authenticate } = require('@feathersjs/authentication').hooks\n\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/cvr/cvr.hooks.js","// Initializes the `fonts` service on path `/fonts`\nconst createService = require('./fonts.class.js')\nconst hooks = require('./fonts.hooks')\n\nmodule.exports = function (app) {\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'fonts',\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/fonts', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('fonts')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/fonts/fonts.service.js","/* eslint-disable no-unused-vars */\nclass Service {\n  constructor (options) {\n    this.options = options || {}\n  }\n\n  find (params) {\n    return Promise.resolve([])\n  }\n\n  get (id, params) {\n    return Promise.resolve({\n      id, text: `A new message with ID: ${id}!`\n    })\n  }\n\n  create (data, params) {\n    if (Array.isArray(data)) {\n      return Promise.all(data.map(current => this.create(current)))\n    }\n\n    return Promise.resolve(data)\n  }\n\n  update (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  patch (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  remove (id, params) {\n    return Promise.resolve({ id })\n  }\n}\n\nmodule.exports = function (options) {\n  return new Service(options)\n}\n\nmodule.exports.Service = Service\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/fonts/fonts.class.js","const { authenticate } = require('@feathersjs/authentication').hooks\n\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/fonts/fonts.hooks.js","// Initializes the `files` service on path `/files`\nconst createService = require('./files.class.js')\nconst hooks = require('./files.hooks')\n/*\nconst blobService = require('feathers-blob')\nconst fs = require('fs-blob-store')\nconst path = require('path')\nconst filePath = process.env.MBTILES || path.join(__dirname, '../../../../../survey/mbtiles')\nconst blobStorage = fs(filePath)\n*/\nconst multer = require('multer')\nvar storage = multer.diskStorage({\n  destination: function (req, file, cb) {\n    cb(null, process.env.MBTILES)\n  },\n  filename: function (req, file, cb) {\n    cb(null, req.body.id + '.mbtiles')\n  }\n})\nconst multipartMiddleware = multer({storage})\nmodule.exports = function (app) {\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'files',\n    paginate\n  }\n  // app.use('/files', blobService({Model: blobStorage}))\n  app.use('/files', multipartMiddleware.single('mbtile'), createService(options))\n  // Initialize our service with any options it requires\n  // app.use('/files', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('files')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/files/files.service.js","const fs = require('fs')\nconst path = require('path')\nconst filePath = process.env.MBTILES\n\nclass Service {\n  constructor (options) {\n    this.options = options || {}\n  }\n\n  find (params) {\n    return new Promise((resolve, reject) => {\n      fs.readdir(filePath, (err, files) => {\n        if (err) {\n          return reject(err)\n        }\n        const result = files.filter(file => {\n          return path.extname(file) === '.mbtiles'\n        }).map(file => {\n          return { id: path.basename(file, path.extname(file)) }\n        })\n        resolve(result)\n      })\n    })\n  }\n\n  get (id, params) {\n    console.log(params)\n    return new Promise((resolve, reject) => {\n      fs.readFile(path.join(filePath, id + '.mbtiles'), (err, data) => {\n        if (err) {\n          return reject(err)\n        }\n        resolve(data)\n      })\n    })\n  }\n\n  create (data, params) {\n    console.log('create', data, params)\n    /*\n    if (params.file && data.id) {\n      return new Promise((resolve, reject) => {\n        fs.writeFile(path.join(filePath, data.id + '.mbtiles'), params.file.buffer, err => {\n          if (err) {\n            console.log('file error', err)\n            return reject(err)\n          }\n          return resolve(data)\n        })\n      })\n    }\n    */\n    return Promise.resolve(data)\n  }\n\n  update (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  patch (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  remove (id, params) {\n    return Promise.resolve({ id })\n  }\n}\n\nmodule.exports = function (options) {\n  return new Service(options)\n}\n\nmodule.exports.Service = Service\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/files/files.class.js","// const { authenticate } = require('feathers-authentication').hooks\n\nmodule.exports = {\n  before: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/files/files.hooks.js","module.exports = require(\"multer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"multer\"\n// module id = 62\n// module chunks = 0","// Initializes the `data` service on path `/data`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/datasources.model')\nconst hooks = require('./datasources.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'datasources',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/datasources', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('datasources')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/datasources/datasources.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const datasources = sequelizeClient.define('datasources', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    data: {\n      type: DataTypes.JSONB,\n      allowNull: true\n    },\n    progress: {\n      type: DataTypes.FLOAT,\n      allowNull: false,\n      defaultValue: 0\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  datasources.associate = function (models) { // eslint-disable-line no-unused-vars\n    models.datasources.belongsTo(models.projects, { onDelete: 'CASCADE' }) // generates projectId\n    models.datasources.belongsTo(models.companies, { onDelete: 'CASCADE' }) // generates companyId\n    models.datasources.belongsTo(models.users) // generates userId\n    models.datasources.belongsTo(models.datasourcetypes) // generates datasourcetypeId\n  }\n\n  return datasources\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/datasources.model.js","const { authenticate } = require('@feathersjs/authentication').hooks\n// const { discard } = require('feathers-hooks-common')\nconst tile = require('../../hooks/tile')\nconst removeMbtile = require('../../hooks/remove-mbtile')\nconst datasourcesBefore = require('../../hooks/datasources-before')\n// const noReturning = require('../../hooks/no-returning')\nconst getAfter = require('../../hooks/get-after')\n// const createGeometries = require('../../hooks/create-geometries')\nconst { associateCurrentUser } = require('feathers-authentication-hooks')\nmodule.exports = {\n  before: {\n    all: [ ],\n    find: [datasourcesBefore()],\n    get: [datasourcesBefore()],\n    create: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })],\n    update: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })],\n    patch: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })], //, noReturning()],\n    remove: [authenticate('jwt')]\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [tile(), getAfter()],\n    update: [tile(), getAfter()],\n    patch: [getAfter()],\n    remove: [removeMbtile()]\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/datasources/datasources.hooks.js","// Use this context to manipulate incoming or outgoing data.\n// For more information on contexts see: http://docs.feathersjs.com/api/contexts.html\nconst fs = require('fs')\nconst path = require('path')\nconst Tiler = require('../tiler.js')\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    Promise.resolve().then(() => {\n      console.log(context.data)\n      if (context.data.geojson) {\n        return context.data.geojson\n      } else if (context.data.data && context.data.data.tile) {\n        return context.app.service('db').get(context.result.id)\n      }\n    }).then(geojson => {\n      if (geojson) {\n        console.log('geojson')\n        fs.unlink(path.join(process.env.MBTILES, context.id + '.mbtiles'), err => {\n          if (err) {\n            console.log('remove-mbtile', err)\n          }\n\n          context.data.geojson = geojson\n          const tiler = new Tiler(context.result.id, context.data, context.service)\n          tiler.create()\n          const geometryService = context.app.service('geometries')\n          let data = []\n          context.data.geojson.features.forEach(feature => {\n            const geometry = Object.assign({}, feature.geometry)\n            geometry.crs = { type: 'name', properties: { name: 'EPSG:4326' } }\n            data.push({datasourceId: context.result.id, properties: feature.properties, geom: geometry})\n          })\n          geometryService.remove(null, {\n            query: {\n              datasourceId: context.result.id\n            }\n          }).then(res => {\n            geometryService.create(data)\n          })\n        })\n      } else {\n        console.log('patch')\n        context.service.patch(context.result.id, { progress: 100 })\n      }\n    })\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/tile.js","module.exports = require(\"geojson-vt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"geojson-vt\"\n// module id = 67\n// module chunks = 0","module.exports = require(\"vt-pbf\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vt-pbf\"\n// module id = 68\n// module chunks = 0","module.exports = require(\"@turf/bbox\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@turf/bbox\"\n// module id = 69\n// module chunks = 0","module.exports = require(\"@turf/center-of-mass\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@turf/center-of-mass\"\n// module id = 70\n// module chunks = 0","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\nconst fs = require('fs')\nconst path = require('path')\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    // Hooks can either return nothing or a promise\n    // that resolves with the `hook` object for asynchronous operations\n    fs.unlink(path.join(process.env.MBTILES, context.id + '.mbtiles'), err => {\n      if (err) {\n        console.log('remove-mbtile', err)\n      }\n    })\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/remove-mbtile.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    context.params.sequelize = {\n      include: [\n        { model: context.app.services.companies.Model, attributes: ['name'] },\n        { model: context.app.services.projects.Model, attributes: ['name'] },\n        { model: context.app.services.datasourcetypes.Model, attributes: ['name'] },\n        { model: context.app.services.users.Model, attributes: ['email'] }\n      ]\n    }\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/datasources-before.js","// Initializes the `projects` service on path `/projects`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/projects.model')\nconst hooks = require('./projects.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'projects',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/projects', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('projects')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/projects/projects.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const projects = sequelizeClient.define('projects', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    public: {\n      type: DataTypes.BOOLEAN,\n      defaultValue: false\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  projects.associate = function (models) { // eslint-disable-line no-unused-vars\n    models.projects.belongsTo(models.companies, { onDelete: 'CASCADE' }) // generates companyId\n    models.projects.belongsTo(models.users) // generates userId\n  }\n\n  return projects\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/projects.model.js","const { authenticate } = require('@feathersjs/authentication').hooks\nconst { associateCurrentUser } = require('feathers-authentication-hooks')\nconst projectsBefore = require('../../hooks/projects-before')\nconst getAfter = require('../../hooks/get-after')\nmodule.exports = {\n  before: {\n    all: [ ],\n    find: [projectsBefore()],\n    get: [projectsBefore()],\n    create: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })],\n    update: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })],\n    patch: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })],\n    remove: [authenticate('jwt')]\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [getAfter()],\n    update: [getAfter()],\n    patch: [getAfter()],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/projects/projects.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    context.params.sequelize = {\n      include: [\n        { model: context.app.services.users.Model, attributes: ['email'] },\n        { model: context.app.services.companies.Model, attributes: ['name'] }\n      ]\n    }\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/projects-before.js","// Initializes the `geometries` service on path `/geometries`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/geometries.model')\nconst hooks = require('./geometries.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'geometries',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/geometries', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('geometries')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/geometries/geometries.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const geometries = sequelizeClient.define('geometries', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    properties: {\n      type: DataTypes.JSONB,\n      allowNull: true\n    },\n    geom: {\n      type: DataTypes.GEOMETRY,\n      allowNull: false\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  geometries.associate = function (models) { // eslint-disable-line no-unused-vars\n    models.geometries.belongsTo(models.datasources, { onDelete: 'CASCADE' }) // generates datasourceId\n  }\n\n  return geometries\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/geometries.model.js","\nconst geometriesBeforeFind = require('../../hooks/geometries-before-find')\nmodule.exports = {\n  before: {\n    all: [],\n    find: [geometriesBeforeFind()],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/geometries/geometries.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\nconst Sequelize = require('sequelize')\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return (hook) => {\n    hook.params.$pagination = false\n    hook.params.sequelize = {\n      attributes: [\n        [Sequelize.fn('SUM', Sequelize.cast(Sequelize.json('properties.HalvPerimeter'), 'float')), 'length'],\n        [Sequelize.json('properties.feature'), 'feature']\n      ],\n      group: ['feature']\n    }\n    return hook\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/geometries-before-find.js","// Initializes the `totals` service on path `/totals`\nconst createService = require('./totals.class.js')\nconst hooks = require('./totals.hooks')\n\nmodule.exports = function (app) {\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'totals',\n    connectionString: app.get('postgres'),\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/totals', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('totals')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/totals/totals.service.js","/* eslint-disable no-unused-vars */\nconst { Pool } = require('pg')\n\nclass Service {\n  constructor (options) {\n    this.options = options || {}\n    this.pool = new Pool({\n      connectionString: options.connectionString\n    })\n  }\n\n  find (params) {\n    return new Promise((resolve, reject) => {\n      let sql = `\n      select a.id, count(*)::integer as antal, a.st_geometrytype, sum(a.st_length) as st_length, sum(a.st_area) as st_area, sum(a.st_perimeter) as st_perimeter from (\n        select\n          COALESCE(properties->>'feature', \"datasourceId\"::text) as id, \n          st_geometrytype(geom) as st_geometrytype, \n          st_length(st_transform(geom, 25832)) as st_length, \n          st_area(st_transform(geom, 25832)) as st_area, \n          st_perimeter(st_transform(geom, 25832)) as st_perimeter\n        from geometries\n      `\n      if (params.query) {\n        if (params.query.datasourceId) {\n          sql += 'where \"datasourceId\"=\\'' + params.query.datasourceId + '\\''\n        } else if (params.query.projectId) {\n          sql += 'inner join data on geometries.\"datasourceId\" = data.id where data.\"projectId\" = \\'' + params.query.projectId + '\\''\n        }\n      }\n      if (params.query.geojson && params.query.geojson.features.length > 0) {\n        sql += ' and '\n        params.query.geojson.features.forEach(feature => {\n          sql += 'ST_Contains(ST_SetSRID(ST_GeomFromGeoJSON(\\'' + JSON.stringify(feature.geometry) + '\\'),4326), geom) or '\n        })\n        sql = sql.substring(0, sql.length - 3)\n      }\n\n      sql += `) as a\n      group by a.id, a.st_geometrytype`\n      console.log(sql)\n      this.pool.query(sql, (err, res) => {\n        if (err) {\n          return reject(err)\n        }\n        resolve(res.rows)\n      })\n    })\n  }\n\n  get (id, params) {\n    return Promise.resolve({\n      id, text: `A new message with ID: ${id}!`\n    })\n  }\n\n  create (data, params) {\n    if (Array.isArray(data)) {\n      return Promise.all(data.map(current => this.create(current)))\n    }\n\n    return Promise.resolve(data)\n  }\n\n  update (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  patch (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  remove (id, params) {\n    return Promise.resolve({ id })\n  }\n}\n\nmodule.exports = function (options) {\n  return new Service(options)\n}\n\nmodule.exports.Service = Service\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/totals/totals.class.js","module.exports = require(\"pg\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pg\"\n// module id = 83\n// module chunks = 0","\nconst totalsBefore = require('../../hooks/totals-before')\nmodule.exports = {\n  before: {\n    all: [],\n    find: [totalsBefore()],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/totals/totals.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return async context => {\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/totals-before.js","// Initializes the `db` service on path `/db`\nconst createService = require('./db.class.js')\nconst hooks = require('./db.hooks')\n\nmodule.exports = function (app) {\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'db',\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/db', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('db')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/db/db.service.js","/* eslint-disable no-unused-vars */\n// const { Pool } = require('pg')\nconst Sequelize = require('sequelize')\nconst parse = require('wellknown')\nconst reproj = require('reproject')\nvar epsg = require('epsg')\nclass Service {\n  constructor (options) {\n    this.options = options || {}\n  }\n\n  find (params) {\n    return Promise.resolve([])\n  }\n\n  get (id, params) {\n    // return new Promise((resolve, reject) => {\n    // const pool = new Pool({\n    //  connectionString: params.data.meta.connectionString\n    // })\n    const mssql = params.data.meta.connectionString.indexOf('mssql') === 0\n    const sequelize = new Sequelize(params.data.meta.connectionString)\n    let sql = `select *, st_asgeojson(st_transform(${params.data.meta.geometryColumn},4326),10) from ${params.data.meta.dbTable}`\n    if (mssql) {\n      sql = `select *, ${params.data.meta.geometryColumn}.STAsText() as wkt, geom.STSrid as srid from ${params.data.meta.dbTable}`\n    }\n    return sequelize.query(sql, { type: sequelize.QueryTypes.SELECT }).then(res => {\n      if (mssql) {\n        return {\n          id: id,\n          type: 'FeatureCollection',\n          features: res.map(item => {\n            const properties = Object.assign({}, item)\n            delete properties[params.data.meta.geometryColumn]\n            delete properties.wkt\n            delete properties.srid\n            const geojson = parse(item.wkt)\n            return {\n              type: 'Feature',\n              properties,\n              geometry: reproj.toWgs84(geojson, `EPSG:${item.srid}`, epsg)\n            }\n          })\n        }\n      }\n      return {\n        id: id,\n        type: 'FeatureCollection',\n        features: res.map(item => {\n          const properties = Object.assign({}, item)\n          delete properties[params.data.meta.geometryColumn]\n          delete properties.st_asgeojson\n          return {\n            type: 'Feature',\n            properties,\n            geometry: JSON.parse(item.st_asgeojson)\n          }\n        })\n      }\n    }).catch(err => {\n      console.log(err)\n    })\n    /*\n    pool.query(sql, (err, res) => {\n      if (err) {\n        return reject(err)\n      }\n\n      const geojson = {\n        id: id,\n        type: 'FeatureCollection',\n        features: res.rows.map(item => {\n          const properties = Object.assign({}, item)\n          delete properties[params.data.meta.geometryColumn]\n          delete properties.st_asgeojson\n          return {\n            type: 'Feature',\n            properties,\n            geometry: JSON.parse(item.st_asgeojson)\n          }\n        })\n      }\n      resolve(geojson)\n    })\n    */\n    // })\n  }\n\n  create (data, params) {\n    if (Array.isArray(data)) {\n      return Promise.all(data.map(current => this.create(current)))\n    }\n\n    return Promise.resolve(data)\n  }\n\n  update (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  patch (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  remove (id, params) {\n    return Promise.resolve({ id })\n  }\n}\n\nmodule.exports = function (options) {\n  return new Service(options)\n}\n\nmodule.exports.Service = Service\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/db/db.class.js","\nconst dbBefore = require('../../hooks/db-before')\nmodule.exports = {\n  before: {\n    all: [],\n    find: [],\n    get: [dbBefore()],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/db/db.hooks.js","// Initializes the `extent` service on path `/extent`\nconst createService = require('./extent.class.js')\nconst hooks = require('./extent.hooks')\n\nmodule.exports = function (app) {\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'extent',\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/extent', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('extent')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/extent/extent.service.js","/* eslint-disable no-unused-vars */\n// const { Pool } = require('pg')\nconst Sequelize = require('sequelize')\nconst parse = require('wellknown')\nconst reproj = require('reproject')\nvar epsg = require('epsg')\n\nclass Service {\n  constructor (options) {\n    this.options = options || {}\n  }\n\n  find (params) {\n    return Promise.resolve([])\n  }\n\n  get (id, params) {\n    const mssql = params.data.data.connectionString.indexOf('mssql') === 0\n    const sequelize = new Sequelize(params.data.data.connectionString)\n    let sql = `select st_asgeojson(st_extent(st_transform(${params.data.meta.geometryColumn},4326)),10) from ${params.data.data.dbTable}`\n    if (mssql) {\n      sql = `select a.geom.STAsText() as wkt, a.geom.STSrid as srid from (select GEOMETRY::EnvelopeAggregate(${params.data.data.geometryColumn}) as geom from ${params.data.data.dbTable}) as a`\n    }\n    return sequelize.query(sql, { type: sequelize.QueryTypes.SELECT }).then(res => {\n      if (res.length > 0) {\n        const item = res[0]\n        if (mssql) {\n          const geojson = parse(item.wkt)\n          return {\n            id: id,\n            type: 'Feature',\n            properties: {},\n            geometry: reproj.toWgs84(geojson, `EPSG:${item.srid}`, epsg)\n          }\n        }\n        return {\n          id: id,\n          type: 'Feature',\n          properties: {},\n          geometry: JSON.parse(item.st_asgeojson)\n        }\n      }\n    })\n  }\n\n  create (data, params) {\n    if (Array.isArray(data)) {\n      return Promise.all(data.map(current => this.create(current)))\n    }\n\n    return Promise.resolve(data)\n  }\n\n  update (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  patch (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  remove (id, params) {\n    return Promise.resolve({ id })\n  }\n}\n\nmodule.exports = function (options) {\n  return new Service(options)\n}\n\nmodule.exports.Service = Service\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/extent/extent.class.js","\nconst dbBefore = require('../../hooks/db-before')\nmodule.exports = {\n  before: {\n    all: [],\n    find: [],\n    get: [dbBefore()],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/extent/extent.hooks.js","// Initializes the `styles` service on path `/styles`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/styles.model')\nconst hooks = require('./styles.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'styles',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/styles', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('styles')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/styles/styles.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const styles = sequelizeClient.define('styles', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    light: {\n      type: DataTypes.JSONB,\n      allowNull: true\n    },\n    dark: {\n      type: DataTypes.JSONB,\n      allowNull: true\n    }\n\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  styles.associate = function (models) { // eslint-disable-line no-unused-vars\n    models.styles.belongsTo(models.projects, { onDelete: 'CASCADE' }) // generates projectId\n    models.styles.belongsTo(models.users) // generates userId\n  }\n\n  return styles\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/styles.model.js","const { authenticate } = require('@feathersjs/authentication').hooks\nconst { associateCurrentUser } = require('feathers-authentication-hooks')\nconst stylesBefore = require('../../hooks/styles-before')\nconst getAfter = require('../../hooks/get-after')\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [stylesBefore()],\n    get: [stylesBefore()],\n    create: [associateCurrentUser({ idField: 'id' })],\n    update: [associateCurrentUser({ idField: 'id' })],\n    patch: [associateCurrentUser({ idField: 'id' })],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [getAfter()],\n    update: [getAfter()],\n    patch: [getAfter()],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/styles/styles.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    context.params.sequelize = {\n      include: [\n        { model: context.app.services.users.Model, attributes: ['email'] },\n        { model: context.app.services.projects.Model }\n      ]\n    }\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/styles-before.js","// Initializes the `layers` service on path `/layers`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/layers.model')\nconst hooks = require('./layers.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'layers',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/layers', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('layers')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/layers/layers.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const layers = sequelizeClient.define('layers', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    priority: {\n      type: DataTypes.INTEGER,\n      allowNull: true\n    },\n    active: {\n      type: DataTypes.BOOLEAN,\n      allowNull: false,\n      defaultValue: true\n    },\n    isDark: {\n      type: DataTypes.BOOLEAN,\n      allowNull: true\n    },\n    isBasemap: {\n      type: DataTypes.BOOLEAN,\n      allowNull: false,\n      defaultValue: false\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  layers.associate = function (models) { // eslint-disable-line no-unused-vars\n    models.layers.belongsTo(models.projects, { onDelete: 'CASCADE' }) // generates projectId\n    models.layers.belongsTo(models.styles, { onDelete: 'CASCADE' }) // generates styleId\n    models.layers.belongsTo(models.users) // generates userId\n  }\n\n  return layers\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/layers.model.js","const { authenticate } = require('@feathersjs/authentication').hooks\nconst layersBefore = require('../../hooks/layers-before')\nconst getAfter = require('../../hooks/get-after')\nconst { associateCurrentUser } = require('feathers-authentication-hooks')\nmodule.exports = {\n  before: {\n    all: [],\n    find: [layersBefore()],\n    get: [layersBefore()],\n    create: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })],\n    update: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })],\n    patch: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })],\n    remove: [authenticate('jwt')]\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [getAfter()],\n    update: [getAfter()],\n    patch: [getAfter()],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/layers/layers.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    context.params.sequelize = {\n      include: [\n        { model: context.app.services.styles.Model, attributes: ['name'] },\n        { model: context.app.services.projects.Model, attributes: ['name'] },\n        { model: context.app.services.users.Model, attributes: ['email'] }\n      ]\n    }\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/layers-before.js","// Initializes the `clients` service on path `/clients`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/clients.model')\nconst hooks = require('./clients.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'clients',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/clients', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('clients')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/clients/clients.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const clients = sequelizeClient.define('clients', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  clients.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n    models.clients.belongsTo(models.projects, { onDelete: 'CASCADE' }) // generates projectId\n    models.clients.belongsTo(models.companies, { onDelete: 'CASCADE' }) // generates companyId\n    models.clients.belongsTo(models.users) // generates userId\n  }\n\n  return clients\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/clients.model.js","\nconst clientsBefore = require('../../hooks/clients-before')\nconst getAfter = require('../../hooks/get-after')\nconst { associateCurrentUser } = require('feathers-authentication-hooks')\nmodule.exports = {\n  before: {\n    all: [],\n    find: [clientsBefore()],\n    get: [clientsBefore()],\n    create: [associateCurrentUser({ idField: 'id' })],\n    update: [associateCurrentUser({ idField: 'id' })],\n    patch: [associateCurrentUser({ idField: 'id' })],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [getAfter()],\n    update: [getAfter()],\n    patch: [getAfter()],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/clients/clients.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    context.params.sequelize = {\n      include: [\n        { model: context.app.services.users.Model, attributes: ['email'] },\n        { model: context.app.services.companies.Model, attributes: ['name'] }\n      ]\n    }\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/clients-before.js","// Initializes the `datasourcetypes` service on path `/datasourcetypes`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/datasourcetypes.model')\nconst hooks = require('./datasourcetypes.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'datasourcetypes',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/datasourcetypes', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('datasourcetypes')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/datasourcetypes/datasourcetypes.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const datasourcetypes = sequelizeClient.define('datasourcetypes', {\n    name: {\n      type: DataTypes.STRING,\n      allowNull: false\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  datasourcetypes.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n  }\n\n  return datasourcetypes\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/datasourcetypes.model.js","\nmodule.exports = {\n  before: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/datasourcetypes/datasourcetypes.hooks.js","// Initializes the `tiles` service on path `/tiles`\nconst zlib = require('zlib')\nconst createService = require('./tiles.class.js')\nconst hooks = require('./tiles.hooks')\nconst sharp = require('sharp')\nlet empty = null\nsharp({\n  create: {\n    width: 256,\n    height: 256,\n    channels: 4,\n    background: { r: 0, g: 0, b: 0, alpha: 0 }\n  }\n}).png().toBuffer().then(buffer => {\n  empty = buffer\n})\nmodule.exports = function (app) {\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'tiles',\n    paginate\n  }\n  // Initialize our service with any options it requires\n  app.use('/tiles', createService(options), (req, res, next) => {\n    if (res.hook.params.query.hasOwnProperty('format')) {\n      if (res.hook.params.query.format === 'png') {\n        res.set('Content-Type', 'image/png')\n        if (res.data) {\n          res.send(res.data)\n        } else {\n          console.log('empty')\n          res.send(empty)\n        }\n      } else {\n        res.set('Content-Encoding', 'gzip')\n        res.set('Content-Type', 'application/x-protobuf')\n        const isGzipped = res.data.slice(0, 2).indexOf(Buffer.from([0x1f, 0x8b])) === 0\n        if (isGzipped) {\n          return res.send(res.data)\n        }\n        zlib.gzip(res.data, (err, result) => {\n          if (err) {\n            return res.status(500).json(err)\n          }\n          res.send(result)\n        })\n      }\n    } else {\n      next()\n    }\n  })\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('tiles')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/tiles/tiles.service.js","/* eslint-disable no-unused-vars */\nconst fs = require('fs')\nconst path = require('path')\nvar MBTiles = require('@mapbox/mbtiles')\n\nconst port = process.env.PORT || 3030\nconst filePath = process.env.MBTILES\nconst urlPrefix = process.env.URL_PREFIX || 'http://localhost:' + port\nclass Service {\n  constructor (options) {\n    this.options = options || {}\n  }\n\n  async find (params) {\n    return []\n  }\n\n  async get (id, params) {\n    const mbtilesFile = path.join(filePath, id + '.mbtiles')\n    if (params.query.hasOwnProperty('format')) {\n      try {\n        const z = params.query.z | 0\n        const x = params.query.x | 0\n        const y = params.query.y | 0\n        const format = params.query.format\n        const data = await new Promise((resolve, reject) => {\n          const source = new MBTiles(mbtilesFile, function (err) {\n            if (err) {\n              reject(err)\n            } else {\n              source.getTile(z, x, y, function (err, data, headers) {\n                if (err) {\n                  reject(err)\n                } else {\n                  resolve(data)\n                }\n              })\n            }\n          })\n        })\n        return data\n      } catch (err) {\n        console.log(err)\n      }\n    } else {\n      console.log('info')\n      const data = await new Promise((resolve, reject) => {\n        fs.stat(mbtilesFile, (err, stats) => {\n          if (err || !stats.isFile() || stats.size === 0) {\n            return reject(err)\n          }\n          const instance = new MBTiles(mbtilesFile, function (err) {\n            if (err) {\n              return reject(err)\n            }\n            instance.getInfo(function (err, info) {\n              if (err || !info) {\n                return reject(err)\n              }\n              info.tiles = ['le34://tiles/' + id + '?z={z}&x={x}&y={y}&format=' + info.format]\n              resolve(info)\n            })\n          })\n        })\n      })\n      return data\n    }\n  }\n\n  async create (data, params) {\n    return data\n  }\n\n  async update (id, data, params) {\n    return data\n  }\n\n  async patch (id, data, params) {\n    return data\n  }\n\n  async remove (id, params) {\n    return { id }\n  }\n}\n\nmodule.exports = function (options) {\n  return new Service(options)\n}\n\nmodule.exports.Service = Service\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/tiles/tiles.class.js","\nconst { authenticate } = require('@feathersjs/authentication').hooks\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/tiles/tiles.hooks.js","module.exports = require(\"sharp\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sharp\"\n// module id = 110\n// module chunks = 0","// Initializes the `tools` service on path `/tools`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/tools.model')\nconst hooks = require('./tools.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'tools',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/tools', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('tools')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/tools/tools.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const tools = sequelizeClient.define('tools', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    description: {\n      type: DataTypes.TEXT,\n      allowNull: true\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  tools.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n    models.tools.belongsTo(models.users) // generates userId\n  }\n\n  return tools\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/tools.model.js","\nconst { authenticate } = require('@feathersjs/authentication').hooks\nconst { associateCurrentUser } = require('feathers-authentication-hooks')\nconst toolsBefore = require('../../hooks/tools-before')\nconst getAfter = require('../../hooks/get-after')\nmodule.exports = {\n  before: {\n    all: [authenticate('jwt')],\n    find: [toolsBefore()],\n    get: [toolsBefore()],\n    create: [associateCurrentUser({ idField: 'id' })],\n    update: [associateCurrentUser({ idField: 'id' })],\n    patch: [associateCurrentUser({ idField: 'id' })],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [getAfter()],\n    update: [getAfter()],\n    patch: [getAfter()],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/tools/tools.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    context.params.sequelize = {\n      include: [\n        { model: context.app.services.users.Model, attributes: ['email'] }\n      ]\n    }\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/tools-before.js","// Initializes the `projects-tools` service on path `/projects-tools`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/projects-tools.model')\nconst hooks = require('./projects-tools.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'projects-tools',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/projects-tools', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('projects-tools')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/projects-tools/projects-tools.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const projectsTools = sequelizeClient.define('projects_tools', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    priority: {\n      type: DataTypes.INTEGER,\n      allowNull: true\n    },\n    active: {\n      type: DataTypes.BOOLEAN,\n      allowNull: false,\n      defaultValue: false\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  projectsTools.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n    models.projects_tools.belongsTo(models.projects, { onDelete: 'CASCADE' }) // generates projectId\n    models.projects_tools.belongsTo(models.tools, { onDelete: 'CASCADE' }) // generates toolId\n    models.projects_tools.belongsTo(models.users) // generates userId\n  }\n\n  return projectsTools\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/projects-tools.model.js","const { authenticate } = require('@feathersjs/authentication').hooks\nconst { associateCurrentUser } = require('feathers-authentication-hooks')\nconst projectsToolsBefore = require('../../hooks/projects-tools-before')\nconst getAfter = require('../../hooks/get-after')\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [projectsToolsBefore()],\n    get: [projectsToolsBefore()],\n    create: [associateCurrentUser({ idField: 'id' })],\n    update: [associateCurrentUser({ idField: 'id' })],\n    patch: [associateCurrentUser({ idField: 'id' })],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [getAfter()],\n    update: [getAfter()],\n    patch: [getAfter()],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/projects-tools/projects-tools.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    context.params.sequelize = {\n      include: [\n        { model: context.app.services.tools.Model, attributes: ['name'] },\n        { model: context.app.services.projects.Model, attributes: ['name'] },\n        { model: context.app.services.users.Model, attributes: ['email'] }\n      ]\n    }\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/projects-tools-before.js","// Initializes the `logos` service on path `/logos`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/logos.model')\nconst hooks = require('./logos.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'logos',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/logos', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('logos')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/logos/logos.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const logos = sequelizeClient.define('logos', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    data: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  logos.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n    models.logos.belongsTo(models.companies, { onDelete: 'CASCADE' }) // generates companyId\n  }\n\n  return logos\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/logos.model.js","\nmodule.exports = {\n  before: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/logos/logos.hooks.js","// Application hooks that run for every service\nconst logger = require('./hooks/logger')\n\nmodule.exports = {\n  before: {\n    all: [ logger() ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [ logger() ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [ logger() ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.hooks.js","// A hook that logs service method before, after and error\n// See https://github.com/winstonjs/winston for documentation\n// about the logger.\nconst logger = require('winston')\n\n// To see more detailed messages, uncomment the following line\n// logger.level = 'debug';\n\nmodule.exports = function () {\n  return context => {\n    // This debugs the service call and a stringified version of the hook context\n    // You can customize the mssage (and logger) to your needs\n    logger.debug(`${context.type} app.service('${context.path}').${context.method}()`)\n\n    if (typeof context.toJSON === 'function') {\n      logger.debug('Hook Context', JSON.stringify(context, null, '  '))\n    }\n\n    if (context.error) {\n      logger.error(context.error)\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/logger.js","module.exports = function (app) {\n  if (typeof app.channel !== 'function') {\n    // If no real-time functionality has been configured just return\n    return\n  }\n\n  app.on('connection', connection => {\n    // On a new real-time connection, add it to the anonymous channel\n    app.channel('anonymous').join(connection)\n  })\n  app.on('logout', (authResult, { connection }) => {\n    if (connection) {\n      app.channel('authenticated').leave(connection)\n    }\n    console.log('logout', app.channel('authenticated').length)\n  })\n\n  app.on('login', (authResult, { connection }) => {\n    console.log('login', app.channel('authenticated').connections.length)\n    // connection can be undefined if there is no\n    // real-time connection, e.g. when logging in via REST\n    if (connection) {\n      // Obtain the logged in user from the connection\n      // const user = connection.user;\n\n      // The connection is no longer anonymous, remove it\n      app.channel('anonymous').leave(connection)\n\n      // Add it to the authenticated user channel\n      app.channel('authenticated').join(connection)\n\n      // Channels can be named anything and joined on any condition\n\n      // E.g. to send real-time events only to admins use\n      // if(user.isAdmin) { app.channel('admins').join(connection); }\n\n      // If the user has joined e.g. chat rooms\n      // if(Array.isArray(user.rooms)) user.rooms.forEach(room => app.channel(`rooms/${room.id}`).join(channel));\n\n      // Easily organize users by email and userid for things like messaging\n      // app.channel(`emails/${user.email}`).join(channel);\n      // app.channel(`userIds/$(user.id}`).join(channel);\n    }\n  })\n  app.publish((data, hook) => { // eslint-disable-line no-unused-vars\n    // Here you can add event publishers to channels set up in `channels.js`\n    // To publish only for a specific event use `app.publish(eventname, () => {})`\n\n    // e.g. to publish all service events to all authenticated users use\n    // return app.channel('authenticated');\n    return app.channel('authenticated')\n    // console.log('publish', data)\n  })\n  // Here you can also add service specific event publishers\n  // e..g the publish the `users` service `created` event to the `admins` channel\n  // app.service('users').publish('created', () => app.channel('admins'));\n\n  // With the userid and email organization from above you can easily select involved users\n  // app.service('messages').publish(() => {\n  //   return [\n  //     app.channel(`userIds/${data.createdBy}`),\n  //     app.channel(`emails/${data.recipientEmail}`)\n  //   ];\n  // });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/channels.js","const authentication = require('@feathersjs/authentication')\nconst jwt = require('@feathersjs/authentication-jwt')\nconst local = require('@feathersjs/authentication-local')\nconst authManagement = require('feathers-authentication-management')\nconst notifier = require('./notifier')\nconst ldap = require('feathers-authentication-ldap')\nconst LDAPVerifier = require('./ldap')\n\nmodule.exports = function (app) {\n  const config = app.get('authentication')\n\n  // Set up authentication with the secret\n  app.configure(authentication(config))\n  app.configure(jwt())\n  app.configure(local())\n  app.configure(ldap({\n    // Optional: overwrite Verifier function\n    Verifier: LDAPVerifier\n  }))\n  app.configure(authManagement(notifier(app)))\n  // The `authentication` service is used to create a JWT.\n  // The before `create` hook registers strategies that can be used\n  // to create a new valid JWT (e.g. local or oauth2)\n  app.service('authentication').hooks({\n    before: {\n      create: [\n        authentication.hooks.authenticate(config.strategies)\n      ],\n      remove: [\n        authentication.hooks.authenticate('jwt')\n      ]\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/authentication.js","module.exports = require(\"@feathersjs/authentication-jwt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@feathersjs/authentication-jwt\"\n// module id = 126\n// module chunks = 0","module.exports = require(\"feathers-authentication-ldap\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-authentication-ldap\"\n// module id = 127\n// module chunks = 0","class LDAPVerifier {\n  constructor (app, options = {}) {\n    this.app = app\n    this.options = options\n    this.service = typeof options.service === 'string' ? app.service(options.service) : options.service\n    if (!this.service) {\n      throw new Error(`options.service does not exist.\\n\\tMake sure you are passing a valid service path or service instance and it is initialized before ldap.js.`)\n    }\n    this.verify = this.verify.bind(this)\n  }\n  _normalizeResult (results) {\n    // Paginated services return the array of results in the data attribute.\n    let entities = results.data ? results.data : results\n    let entity = entities[0]\n\n    // Handle bad username.\n    if (!entity) {\n      return Promise.reject(false); // eslint-disable-line\n    }\n    return Promise.resolve(entity)\n  }\n  verify (req, user, done) {\n    const id = this.service.id\n    const usernameField = this.options.entityUsernameField || this.options.usernameField\n    const params = {\n      'query': {\n        [usernameField]: user.mail,\n        '$limit': 1\n      }\n    }\n\n    if (id === null || id === undefined) {\n      return done(new Error('the `id` property must be set on the entity service for authentication'))\n    }\n\n    // Look up the entity\n    this.service.find(params)\n      .then(response => {\n        const results = response.data || response\n        if (!results.length) {\n          return this.service.create({email: user.mail, companyId: '6714a515-bec0-4d2b-a5e4-76d16cb845c0'}).then(response => {\n            return this._normalizeResult(response)\n          })\n        }\n        return this._normalizeResult(response)\n      })\n      .then(entity => {\n        const id = entity[this.service.id]\n        const payload = { [`${this.options.entity}Id`]: id }\n        done(null, entity, payload)\n      })\n      .catch(error => error ? done(error) : done(null, error, { message: 'Invalid login' }))\n  }\n}\n\nmodule.exports = LDAPVerifier\n\n\n\n// WEBPACK FOOTER //\n// ./src/ldap.js","const Sequelize = require('sequelize')\nconst seed = require('./seed')\nmodule.exports = function (app) {\n  const connectionString = app.get('postgres')\n  const sequelize = new Sequelize(connectionString, {\n    dialect: 'postgres',\n    logging: false,\n    define: {\n      freezeTableName: true\n    }\n  })\n  const oldSetup = app.setup\n\n  app.set('sequelizeClient', sequelize)\n\n  app.setup = function (...args) {\n    const result = oldSetup.apply(this, args)\n\n    // Set up data relationships\n    const models = sequelize.models\n    Object.keys(models).forEach(name => {\n      if ('associate' in models[name]) {\n        models[name].associate(models)\n      }\n    })\n\n    // Sync to the database\n    sequelize.sync().then(() => {\n      app.configure(seed)\n    })\n\n    return result\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/sequelize.js","const rolesData = require('./roles.js')\n// const usersData = require('./users.js')\nconst companiesData = require('./companies.js')\nconst datasourcetypesData = require('./datasourcetypes.js')\nconst Tiler = require('../tiler.js')\n\nmodule.exports = function (app) {\n  const ifEmptyCreate2 = ifEmptyCreate.bind(this)\n  app.configure(ifEmptyCreate2('roles', rolesData))\n  // app.configure(ifEmptyCreate2('users', usersData))\n  app.configure(ifEmptyCreate2('companies', companiesData))\n  app.configure(ifEmptyCreate2('datasourcetypes', datasourcetypesData))\n  app.configure(tile)\n}\n\n// ### ifEmptyCreate(model, data)\n/**\n * If the model is empty then populate it's data\n * @param {object} model Mongoose Model\n * @param {object|object[]} data Object data or Array of Object data to insert\n * @return {function} Returns a method to be called by configure\n */\nfunction ifEmptyCreate (name, data) {\n  return async () => {\n    try {\n      let found = await this.service(name).find({query: {}})\n      if (found && Number.isInteger(found.total) && Array.isArray(found.data)) {\n        found = found.data\n      }\n      if (found.length !== 0) { return false }\n      await this.service(name).create(data)\n      console.log('default ' + name + ' created')\n    } catch (err) {\n      if (err) { console.log('trouble seeding ' + name + ': ', err) }\n    }\n  }\n}\n\nfunction tile () {\n  const service = this.service('datasources')\n  return service.find({\n    query: {\n      progress: {\n        $lt: 100\n      }\n    }\n  }).then(data => {\n    data.forEach(item => {\n      if (item.meta && item.meta === 0) {\n        const tiler = new Tiler(item, service)\n        tiler.create()\n      }\n    })\n  }).catch(function (error) {\n    console.error(error)\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/seed/index.js","const system = {\n  name: 'system'\n}\n\nconst admin = {\n  name: 'admin'\n}\n\nconst basic = {\n  name: 'basic'\n}\n\nmodule.exports = [system, admin, basic]\n\n\n\n// WEBPACK FOOTER //\n// ./src/seed/roles.js","const clients = [\n  {\n    id: '5b9462c3-bd11-4bd0-8937-7db762fb22c0',\n    name: 'Wicotec Kirkebjerg A/S',\n    cvrno: '73585511',\n    type: 'opdragsgiver',\n    clients: ['edaf7d39-985a-4396-85ff-d5a5d4450a16', 'b927d198-351f-4c5d-9054-424bf6fb7c94']\n  },\n  {\n    id: '6714a515-bec0-4d2b-a5e4-76d16cb845c0',\n    name: 'LE34',\n    cvrno: '27758592',\n    type: 'opdragsgiver',\n    clients: ['0b67b5af-ed80-4860-9c49-864060d8ae25', 'b927d198-351f-4c5d-9054-424bf6fb7c94']\n  },\n  {\n    id: '1ec75ea6-7022-4813-9e2d-2630003ea392',\n    name: 'JFE A/S',\n    cvrno: '74760716',\n    type: 'opdragsgiver',\n    clients: ['b428964d-13b3-4aea-91ad-4e32f3481959', '7282afcb-b458-4c6b-b57b-a5cb9e5a6a68', 'bd52f4a5-2cfe-4aff-a0dc-cca6e50f463b']\n  },\n  {\n    id: 'edaf7d39-985a-4396-85ff-d5a5d4450a16',\n    name: 'Albertslund Varmeværk',\n    cvrno: '1003267160',\n    type: 'slutbruger'\n  },\n  {\n    id: 'b927d198-351f-4c5d-9054-424bf6fb7c94',\n    name: 'Hvalsø Kraftvarmeværk',\n    cvrno: '44057212',\n    type: 'slutbruger'\n  },\n  {\n    id: '0b67b5af-ed80-4860-9c49-864060d8ae25',\n    name: 'Egedal Fjernvarme',\n    cvrno: '35410538',\n    type: 'slutbruger'\n  },\n  {\n    id: '1d95ef7d-e51a-42f4-82fa-91b277f4c148',\n    name: 'EnergiMidt',\n    cvrno: '36423544',\n    type: 'slutbruger'\n  },\n  {\n    id: 'b428964d-13b3-4aea-91ad-4e32f3481959',\n    name: 'Solrød Fjernvarme amba',\n    cvrno: '23104113',\n    type: 'slutbruger'\n  },\n  {\n    id: '7282afcb-b458-4c6b-b57b-a5cb9e5a6a68',\n    name: 'Rødovre Kommunale Fjernvarmeforsyning',\n    cvrno: '6530731677',\n    type: 'slutbruger'\n  },\n  {\n    id: 'bd52f4a5-2cfe-4aff-a0dc-cca6e50f463b',\n    name: 'Norfors I/S',\n    cvrno: '14748539',\n    type: 'slutbruger'\n  },\n  {\n    id: '7c830e38-9903-44e6-98f7-7f79941b16ff',\n    name: 'DONG',\n    cvrno: '1234',\n    type: 'slutbruger'\n  },\n  {\n    id: 'c06ea06e-25b5-473e-80ec-abd894a27ddc',\n    name: 'KE_Transmission',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: 'f4e2bbf9-55b7-4e59-9ff0-2155544fc1fe',\n    name: 'Kemp_Lauritzen',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: 'aa160aff-b9be-4cdc-8590-fd203644c5e7',\n    name: 'NCC',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: 'b9e22955-89ce-43e6-87f6-4de131436a22',\n    name: 'Demo',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: '2e8df1dd-458d-4c8e-8498-7f79931b15ff',\n    name: 'MTH',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: 'd78ae731-0026-46fd-be2b-c05e6663cfe5',\n    name: 'Bravida',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: '020c4051-b910-438c-a50b-8a3fe1898fda',\n    name: 'Nordkysten',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: '7c730e38-9903-44e6-98f7-9c32c87c9c03',\n    name: 'Munck',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  }\n]\n\nmodule.exports = clients.map(client => {\n  return {\n    id: client.id,\n    name: client.name,\n    cvr: client.cvrno\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/seed/companies.js","const database = {\n  name: 'database'\n}\n\nconst geotiff = {\n  name: 'geotiff'\n}\n\nconst geojson = {\n  name: 'geojson'\n}\n\nmodule.exports = [geojson, geotiff, database]\n\n\n\n// WEBPACK FOOTER //\n// ./src/seed/datasourcetypes.js"],"sourceRoot":""}