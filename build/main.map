{"version":3,"sources":["webpack:///webpack/bootstrap 2caf15c6276964dfc8c3","webpack:///external \"sequelize\"","webpack:///external \"feathers-authentication\"","webpack:///external \"feathers-sequelize\"","webpack:///external \"path\"","webpack:///external \"fs\"","webpack:///external \"winston\"","webpack:///external \"feathers-hooks-common\"","webpack:///external \"feathers-authentication-local\"","webpack:///external \"feathers-authentication-management\"","webpack:///./src/notifier.js","webpack:///./src/tiler.js","webpack:///./src/index.js","webpack:///./src/app.js","webpack:///external \"serve-favicon\"","webpack:///external \"compression\"","webpack:///external \"cors\"","webpack:///external \"helmet\"","webpack:///external \"body-parser\"","webpack:///external \"feathers\"","webpack:///external \"feathers-configuration\"","webpack:///external \"feathers-hooks\"","webpack:///external \"feathers-rest\"","webpack:///external \"feathers-socketio\"","webpack:///external \"feathers-errors/handler\"","webpack:///external \"feathers-errors/not-found\"","webpack:///./src/middleware/index.js","webpack:///./src/services/index.js","webpack:///./src/services/users/users.service.js","webpack:///./src/models/users.model.js","webpack:///./src/services/users/users.hooks.js","webpack:///external \"feathers-authentication-hooks\"","webpack:///./src/hooks/send-verification-email.js","webpack:///external \"pug\"","webpack:///./src/hooks/user-client.js","webpack:///./src/hooks/user-client-after.js","webpack:///./src/hooks/users-restrict.js","webpack:///external \"feathers-errors\"","webpack:///./src/services/users/users.filters.js","webpack:///./src/services/roles/roles.service.js","webpack:///./src/models/roles.model.js","webpack:///./src/services/roles/roles.hooks.js","webpack:///./src/services/roles/roles.filters.js","webpack:///./src/services/email/email.service.js","webpack:///external \"feathers-mailer\"","webpack:///./src/services/email/email.hooks.js","webpack:///external \"nodemailer-smtp-transport\"","webpack:///./src/services/company/company.service.js","webpack:///./src/models/company.model.js","webpack:///./src/services/company/company.hooks.js","webpack:///./src/services/company/company.filters.js","webpack:///./src/services/cvr/cvr.service.js","webpack:///external \"feathers-elasticsearch\"","webpack:///./src/models/cvr.model.js","webpack:///external \"elasticsearch\"","webpack:///./src/services/cvr/cvr.hooks.js","webpack:///./src/services/cvr/cvr.filters.js","webpack:///./src/services/fonts/fonts.service.js","webpack:///./src/services/fonts/fonts.class.js","webpack:///./src/services/fonts/fonts.hooks.js","webpack:///./src/services/fonts/fonts.filters.js","webpack:///./src/services/files/files.service.js","webpack:///./src/services/files/files.class.js","webpack:///./src/services/files/files.hooks.js","webpack:///./src/services/files/files.filters.js","webpack:///external \"multer\"","webpack:///./src/services/data/data.service.js","webpack:///./src/models/data.model.js","webpack:///./src/services/data/data.hooks.js","webpack:///./src/hooks/tile.js","webpack:///external \"geojson-vt\"","webpack:///external \"@mapbox/mbtiles\"","webpack:///external \"vt-pbf\"","webpack:///external \"zlib\"","webpack:///external \"@turf/bbox\"","webpack:///external \"@turf/center-of-mass\"","webpack:///./src/hooks/remove-mbtile.js","webpack:///./src/hooks/data-before-find.js","webpack:///./src/hooks/no-returning.js","webpack:///./src/hooks/data-after-patch.js","webpack:///./src/hooks/data-after-create.js","webpack:///./src/hooks/create-geometries.js","webpack:///./src/services/data/data.filters.js","webpack:///./src/services/projects/projects.service.js","webpack:///./src/models/projects.model.js","webpack:///./src/services/projects/projects.hooks.js","webpack:///./src/services/projects/projects.filters.js","webpack:///./src/services/geometries/geometries.service.js","webpack:///./src/models/geometries.model.js","webpack:///./src/services/geometries/geometries.hooks.js","webpack:///./src/hooks/geometries-before-find.js","webpack:///./src/services/geometries/geometries.filters.js","webpack:///./src/services/totals/totals.service.js","webpack:///./src/services/totals/totals.class.js","webpack:///external \"pg\"","webpack:///./src/services/totals/totals.hooks.js","webpack:///./src/app.hooks.js","webpack:///./src/hooks/logger.js","webpack:///./src/authentication.js","webpack:///external \"feathers-authentication-jwt\"","webpack:///./src/sequelize.js","webpack:///./src/seed/index.js","webpack:///./src/seed/roles.js","webpack:///./src/seed/users.js","webpack:///./src/seed/company.js"],"names":["path","require","pug","isProd","returnEmail","module","exports","app","getLink","type","hash","port","host","protocal","sendEmail","email","service","create","then","result","console","log","catch","err","notifier","user","notifierOptions","hashLink","emailAccountTemplatesPath","join","__dirname","templatePath","compiledHTML","verifyToken","renderFile","logo","name","from","to","subject","html","resetToken","geojsonvt","MBTiles","vtpbf","zlib","fs","bbox","centerOfMass","filePath","process","env","MBTILES","Tiler","id","data","_service","_features","_current","_last","_data","Object","assign","_id","_mbtilesFile","prototype","remove","Promise","resolve","reject","unlink","putTile","_tileIndex","tileCoords","length","center","geojson","_mbtiles","putInfo","bounds","geometry","coordinates","version","description","format","map","minzoom","maxzoom","fields","stopWriting","close","progress","Math","round","patch","item","tile","getTile","z","x","y","layers","features","forEach","feature","indexOf","tags","push","hasOwnProperty","layers2","keys","key","layer","GeoJSONWrapper","buff","fromVectorTileJs","buffer","Buffer","gzip","debug","maxZoom","indexMaxZoom","indexMaxPoints","tileIndex","mbtiles","startWriting","logger","get","server","listen","on","reason","p","error","info","favicon","compress","cors","helmet","bodyParser","feathers","configuration","hooks","rest","socketio","handler","notFound","middleware","services","appHooks","authentication","sequelize","configure","use","json","limit","urlencoded","extended","static","users","roles","company","cvr","fonts","files","projects","geometries","totals","createService","createModel","filters","Model","options","paginate","default","max","filter","Sequelize","DataTypes","sequelizeClient","define","UUID","primaryKey","defaultValue","UUIDV4","STRING","allowNull","unique","password","isEnabled","BOOLEAN","role","isVerified","verifyShortToken","verifyExpires","DATE","verifyChanges","JSONB","resetShortToken","resetExpires","beforeCount","raw","associate","models","belongsTo","authenticate","commonHooks","restrictToOwner","hashPassword","verifyHooks","restrict","idField","ownerField","sendVerificationEmail","userClient","userClientAfter","usersRestrict","before","all","find","addVerification","update","disallow","iff","isProvider","preventChanges","after","when","hook","params","provider","discard","removeVerification","accountService","include","model","query","errors","NotAuthenticated","NotAcceptable","companyId","Forbidden","NotFound","warn","connection","Mailer","smtpTransport","elasticsearch","index","Client","apiVersion","Service","constructor","text","Array","isArray","current","multer","storage","diskStorage","destination","req","file","cb","filename","body","multipartMiddleware","single","readdir","extname","basename","readFile","TEXT","meta","style","FLOAT","removeMbtile","dataBeforeFind","noReturning","dataAfterPatch","dataAfterCreate","createGeometries","tiler","attributes","$returning","bypass","$select","crs","properties","dataId","geom","public","GEOMETRY","as","onDelete","geometriesBeforeFind","$pagination","fn","cast","group","connectionString","Pool","pool","sql","projectId","JSON","stringify","substring","res","rows","message","method","jwt","local","authManagement","config","strategies","seed","dialect","logging","freezeTableName","oldSetup","setup","set","args","apply","sync","rolesData","usersData","companyData","ifEmptyCreate2","ifEmptyCreate","bind","found","Number","isInteger","total","$lt","system","admin","basic","PASSWORD","clients","cvrno","client"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2caf15c6276964dfc8c3","module.exports = require(\"sequelize\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sequelize\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"feathers-authentication\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-authentication\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"feathers-sequelize\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-sequelize\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"winston\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"winston\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"feathers-hooks-common\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-hooks-common\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"feathers-authentication-local\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-authentication-local\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"feathers-authentication-management\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-authentication-management\"\n// module id = 8\n// module chunks = 0","const path = require('path')\nconst pug = require('pug')\nconst isProd = process.env.NODE_ENV === 'production'\nconst returnEmail = 'noreply@le34.dk'\nmodule.exports = function (app) {\n  function getLink (type, hash) {\n    var port = isProd ? '' : ':3000'\n    var host = isProd ? 'survey.le34.dk' : 'localhost'\n    var protocal = isProd ? 'https' : 'http'\n    protocal += '://'\n    return `${protocal}${host}${port}/${type}/${hash}`\n  }\n  function sendEmail (email) {\n    return app.service('email').create(email).then(function (result) {\n      console.log('Sent email', result)\n    }).catch(err => {\n      console.log('Error sending email', err)\n    })\n  }\n  return {\n    notifier: function (type, user, notifierOptions) {\n      console.log(`-- Preparing email for ${type}`)\n      var hashLink\n      var email\n      var emailAccountTemplatesPath = path.join(__dirname, 'email-templates')\n      console.log('emailAccountTemplatesPath', emailAccountTemplatesPath)\n      var templatePath\n      var compiledHTML\n\n      switch (type) {\n        case 'resendVerifySignup': // send another email with link for verifying user's email addr\n\n          hashLink = getLink('verify', user.verifyToken)\n          console.log(hashLink)\n          templatePath = path.join(emailAccountTemplatesPath, 'verify-email.pug')\n\n          compiledHTML = pug.renderFile(templatePath, {\n            logo: '',\n            name: user.name || user.email,\n            hashLink,\n            returnEmail\n          })\n\n          email = {\n            from: returnEmail,\n            to: user.email,\n            subject: 'Confirm Signup',\n            html: compiledHTML\n          }\n\n          return sendEmail(email)\n        case 'sendResetPwd': // inform that user's email is now confirmed\n\n          hashLink = getLink('reset', user.resetToken)\n\n          templatePath = path.join(emailAccountTemplatesPath, 'reset-password.pug')\n\n          compiledHTML = pug.renderFile(templatePath, {\n            logo: '',\n            name: user.name || user.email,\n            hashLink,\n            returnEmail\n          })\n\n          email = {\n            from: returnEmail,\n            to: user.email,\n            subject: 'Reset Password',\n            html: compiledHTML\n          }\n\n          return sendEmail(email)\n        case 'resetPwd': // inform that user's email is now confirmed\n\n          hashLink = getLink('reset', user.resetToken)\n\n          templatePath = path.join(emailAccountTemplatesPath, 'password-was-reset.pug')\n\n          compiledHTML = pug.renderFile(templatePath, {\n            logo: '',\n            name: user.name || user.email,\n            hashLink,\n            returnEmail\n          })\n\n          email = {\n            from: returnEmail,\n            to: user.email,\n            subject: 'Your password was reset',\n            html: compiledHTML\n          }\n\n          return sendEmail(email)\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/notifier.js","/* eslint no-new: 0 */\nvar geojsonvt = require('geojson-vt')\nvar MBTiles = require('@mapbox/mbtiles')\nvar path = require('path')\nvar vtpbf = require('vt-pbf')\nvar zlib = require('zlib')\nvar fs = require('fs')\nvar bbox = require('@turf/bbox')\nvar centerOfMass = require('@turf/center-of-mass')\nconst filePath = process.env.MBTILES\nmodule.exports = Tiler\n\nfunction Tiler (id, data, service) {\n  this._service = service\n  this._features = []\n  this._current = 0\n  this._last = 0\n  this._data = Object.assign({}, data)\n  this._id = id\n  // this._mbtilesFile = path.join(__dirname, 'data', data.id + '.mbtiles')\n  this._mbtilesFile = path.join(filePath, id + '.mbtiles')\n}\n\nTiler.prototype.remove = function () {\n  return new Promise((resolve, reject) => {\n    fs.unlink(this._mbtilesFile, () => {\n      resolve()\n    })\n  })\n}\n\nTiler.prototype.putTile = function () {\n  if (this._current === this._tileIndex.tileCoords.length) {\n    var center = centerOfMass(this._data.geojson)\n    this._mbtiles.putInfo({\n      bounds: bbox(this._data.geojson),\n      center: [center.geometry.coordinates[0], center.geometry.coordinates[1], 16],\n      version: '2',\n      name: this._id,\n      description: this._data.name,\n      type: 'overlay',\n      format: 'pbf',\n      'vector_layers': this._features.map((id) => {\n        return {\n          id: id, description: '', minzoom: 0, maxzoom: 22, fields: {}\n        }\n      })\n    }, () => {\n      this._mbtiles.stopWriting(() => {\n        this._mbtiles.close(() => {\n          console.log('closed')\n        })\n      })\n    })\n  } else {\n    const progress = Math.round(100 * (this._current + 1) / this._tileIndex.tileCoords.length)\n    Promise.resolve().then(() => {\n      if (progress > this._last) {\n        this._last = progress\n        return this._service.patch(this._id, { progress })\n      }\n    }).then(() => {\n      const item = this._tileIndex.tileCoords[this._current]\n      var tile = this._tileIndex.getTile(item.z, item.x, item.y)\n      var layers = {}\n      tile.features.forEach((feature) => {\n        if (this._features.indexOf(feature.tags.feature) === -1) {\n          this._features.push(feature.tags.feature)\n        }\n        if (!layers.hasOwnProperty(feature.tags.feature)) {\n          layers[feature.tags.feature] = []\n        }\n        layers[feature.tags.feature].push(feature)\n      })\n      var layers2 = {}\n      Object.keys(layers).forEach((key) => {\n        var layer = new vtpbf.GeoJSONWrapper(layers[key])\n        layer.name = key\n        layer.version = 2\n        layers2[key] = layer\n      })\n      var buff = vtpbf.fromVectorTileJs({\n        layers: layers2\n      })\n      var buffer = Buffer.from(buff)\n      zlib.gzip(buffer, (err, result) => {\n        if (!err) {\n          this._mbtiles.putTile(item.z, item.x, item.y, result, () => {\n            this._current++\n            this.putTile()\n          })\n        }\n      })\n    })\n  }\n}\n\nTiler.prototype.create = function () {\n  Promise.resolve().then(() => {\n    return geojsonvt(this._data.geojson, { debug: 0, maxZoom: 20, indexMaxZoom: 20, indexMaxPoints: 0 })\n  }).then((tileIndex) => {\n    this._tileIndex = tileIndex\n    return this.remove()\n  }).then(() => {\n    return new Promise((resolve, reject) => {\n      new MBTiles(this._mbtilesFile, (err, mbtiles) => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve(mbtiles)\n        }\n      })\n    })\n  }).then((mbtiles) => {\n    this._mbtiles = mbtiles\n    return new Promise((resolve, reject) => {\n      mbtiles.startWriting(err => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve()\n        }\n      })\n    })\n  }).then(() => {\n    this.putTile()\n  }).catch((err) => {\n    console.log(err)\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tiler.js","/* eslint-disable no-console */\nconst logger = require('winston')\nconst app = require('./app')\nconst port = app.get('port')\nconst server = app.listen(port)\n\nprocess.on('unhandledRejection', (reason, p) =>\n  logger.error('Unhandled Rejection at: Promise ', p, reason)\n)\n\nserver.on('listening', () =>\n  logger.info('Feathers application started on http://%s:%d', app.get('host'), port)\n)\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const path = require('path')\nconst favicon = require('serve-favicon')\nconst compress = require('compression')\nconst cors = require('cors')\nconst helmet = require('helmet')\nconst bodyParser = require('body-parser')\n\nconst feathers = require('feathers')\nconst configuration = require('feathers-configuration')\nconst hooks = require('feathers-hooks')\nconst rest = require('feathers-rest')\nconst socketio = require('feathers-socketio')\n\nconst handler = require('feathers-errors/handler')\nconst notFound = require('feathers-errors/not-found')\n\nconst middleware = require('./middleware')\nconst services = require('./services')\nconst appHooks = require('./app.hooks')\n\nconst authentication = require('./authentication')\n\nconst sequelize = require('./sequelize')\n\nconst app = feathers()\n\n// Load app configuration\napp.configure(configuration())\n// Enable CORS, security, compression, favicon and body parsing\napp.use(cors())\napp.use(helmet())\napp.use(compress())\napp.use(bodyParser.json({ limit: '1gb' }))\napp.use(bodyParser.urlencoded({ extended: true }))\napp.use(favicon(path.join(app.get('public'), 'favicon.ico')))\n// Host the public folder\napp.use('/', feathers.static(app.get('public')))\n\n// Set up Plugins and providers\napp.configure(hooks())\napp.configure(sequelize)\napp.configure(rest())\napp.configure(socketio())\n\n// Configure other middleware (see `middleware/index.js`)\napp.configure(middleware)\napp.configure(authentication)\n// Set up our services (see `services/index.js`)\napp.configure(services)\n\n// Configure a middleware for 404s and the error handler\napp.use(notFound())\napp.use(handler())\n\napp.hooks(appHooks)\n\nmodule.exports = app\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","module.exports = require(\"serve-favicon\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-favicon\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"compression\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"compression\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"cors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cors\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"helmet\"\n// module id = 17\n// module chunks = 0","module.exports = require(\"body-parser\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"body-parser\"\n// module id = 18\n// module chunks = 0","module.exports = require(\"feathers\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers\"\n// module id = 19\n// module chunks = 0","module.exports = require(\"feathers-configuration\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-configuration\"\n// module id = 20\n// module chunks = 0","module.exports = require(\"feathers-hooks\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-hooks\"\n// module id = 21\n// module chunks = 0","module.exports = require(\"feathers-rest\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-rest\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"feathers-socketio\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-socketio\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"feathers-errors/handler\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-errors/handler\"\n// module id = 24\n// module chunks = 0","module.exports = require(\"feathers-errors/not-found\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-errors/not-found\"\n// module id = 25\n// module chunks = 0","module.exports = function () {\n  // Add your custom middleware here. Remember, that\n  // in Express the order matters\n  const app = this // eslint-disable-line no-unused-vars\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/index.js","const users = require('./users/users.service.js')\nconst roles = require('./roles/roles.service.js')\nconst email = require('./email/email.service.js')\nconst company = require('./company/company.service.js')\nconst cvr = require('./cvr/cvr.service.js')\n\nconst fonts = require('./fonts/fonts.service.js')\n\nconst files = require('./files/files.service.js')\n\nconst data = require('./data/data.service.js')\n\nconst projects = require('./projects/projects.service.js')\n\nconst geometries = require('./geometries/geometries.service.js')\n\nconst totals = require('./totals/totals.service.js')\n\nmodule.exports = function () {\n  const app = this // eslint-disable-line no-unused-vars\n  app.configure(users)\n  app.configure(roles)\n  app.configure(email)\n  app.configure(company)\n  app.configure(cvr)\n  app.configure(fonts)\n  app.configure(files)\n  app.configure(data)\n  app.configure(projects)\n  app.configure(geometries)\n  app.configure(totals)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/index.js","// Initializes the `users` service on path `/users`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/users.model')\nconst hooks = require('./users.hooks')\nconst filters = require('./users.filters')\n\nmodule.exports = function () {\n  const app = this\n  const Model = createModel(app)\n  // const paginate = app.get('paginate')\n\n  const options = {\n    name: 'users',\n    Model,\n    paginate: {\n      default: 100,\n      max: 1000\n    }\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/users', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('users')\n\n  service.hooks(hooks)\n\n  if (service.filter) {\n    service.filter(filters)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/users/users.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const users = sequelizeClient.define('users', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    email: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      unique: true\n    },\n    password: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      defaultValue: DataTypes.UUIDV4\n    },\n    isEnabled: {\n      type: DataTypes.BOOLEAN,\n      defaultValue: true\n    },\n    role: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      defaultValue: 'basic'\n    },\n    isVerified: { type: DataTypes.BOOLEAN },\n    verifyToken: { type: DataTypes.STRING },\n    verifyShortToken: { type: DataTypes.STRING },\n    verifyExpires: { type: DataTypes.DATE }, // or a long integer\n    verifyChanges: { type: DataTypes.JSONB }, // an object (key-value map), e.g. { field: \"value\" }\n    resetToken: { type: DataTypes.STRING },\n    resetShortToken: { type: DataTypes.STRING },\n    resetExpires: { type: DataTypes.DATE } // or a long integer\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  users.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n    models.users.belongsTo(models.company)\n  }\n\n  return users\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/users.model.js","const { authenticate } = require('feathers-authentication').hooks\nconst commonHooks = require('feathers-hooks-common')\nconst { restrictToOwner } = require('feathers-authentication-hooks')\nconst { hashPassword } = require('feathers-authentication-local').hooks\nconst verifyHooks = require('feathers-authentication-management').hooks\nconst restrict = [\n  authenticate('jwt'),\n  restrictToOwner({\n    idField: 'id',\n    ownerField: 'id'\n  })\n]\n\nconst sendVerificationEmail = require('../../hooks/send-verification-email')\n\nconst userClient = require('../../hooks/user-client')\n\nconst userClientAfter = require('../../hooks/user-client-after')\n\nconst usersRestrict = require('../../hooks/users-restrict')\n\nmodule.exports = {\n  before: {\n    all: [],\n    find: [authenticate('jwt'), userClient()],\n    get: [...restrict],\n    create: [hashPassword(), verifyHooks.addVerification()],\n    update: [commonHooks.disallow('external')],\n    patch: [\n      ...restrict,\n      commonHooks.iff(commonHooks.isProvider('external'), commonHooks.preventChanges(\n        'email',\n        'isVerified',\n        'verifyToken',\n        'verifyShortToken',\n        'verifyExpires',\n        'verifyChanges',\n        'resetToken',\n        'resetShortToken',\n        'resetExpires'\n      ))\n    ],\n    remove: [authenticate('jwt'), usersRestrict()]\n  },\n\n  after: {\n    all: [\n      commonHooks.when(\n        hook => hook.params.provider,\n        commonHooks.discard('password', 'verifyExpires', 'resetExpires', 'verifyChanges')\n      )\n    ],\n    find: [],\n    get: [],\n    create: [\n      sendVerificationEmail(),\n      verifyHooks.removeVerification(),\n      userClientAfter()\n    ],\n    update: [userClientAfter()],\n    patch: [userClientAfter()],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/users/users.hooks.js","module.exports = require(\"feathers-authentication-hooks\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-authentication-hooks\"\n// module id = 31\n// module chunks = 0","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\nconst accountService = require('../notifier')\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return function sendVerificationEmail (hook) {\n    const user = hook.result\n    if (user) {\n      accountService(hook.app).notifier('resendVerifySignup', user)\n      return Promise.resolve(hook)\n    }\n    // Hooks can either return nothing or a promise\n    // that resolves with the `hook` object for asynchronous operations\n    return Promise.resolve(hook)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/send-verification-email.js","module.exports = require(\"pug\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pug\"\n// module id = 33\n// module chunks = 0","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return function userClient (hook) {\n    hook.params.sequelize = {\n      include: [ { model: hook.app.services.company.Model } ]\n    }\n    return Promise.resolve(hook)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/user-client.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return function userClientAfter (hook) {\n    return hook.app.service('/users').find({ query: { id: hook.result.id } }).then(result => {\n      hook.result = result.data[0]\n      return Promise.resolve(hook)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/user-client-after.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\nconst errors = require('feathers-errors')\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return function usersRestrict (hook) {\n    if (!hook.params.user) {\n      throw new errors.NotAuthenticated()\n    }\n    if (hook.params.user.id === hook.id) {\n      throw new errors.NotAcceptable('Du m ikke slette dig selv')\n    }\n    if (hook.params.user.role === 'system') {\n      return Promise.resolve(hook)\n    }\n    return hook.app.service('/users').find({ query: { id: hook.id } }).then(result => {\n      if (result.data.length === 1) {\n        const user = result.data[0]\n        if (hook.params.user.role === 'admin' && hook.params.user.companyId === user.companyId) {\n          return Promise.resolve(hook)\n        }\n        throw new errors.Forbidden('Du har ikke rettigheder til denne handling')\n      }\n      throw new errors.NotFound()\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/users-restrict.js","module.exports = require(\"feathers-errors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-errors\"\n// module id = 37\n// module chunks = 0","/* eslint no-console: 1 */\nconsole.warn('You are using the default filter for the users service. For more information about event filters see https://docs.feathersjs.com/api/events.html#event-filtering') // eslint-disable-line no-console\n\nmodule.exports = function (data, connection, hook) { // eslint-disable-line no-unused-vars\n  return data\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/users/users.filters.js","// Initializes the `roles` service on path `/roles`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/roles.model')\nconst hooks = require('./roles.hooks')\nconst filters = require('./roles.filters')\n\nmodule.exports = function () {\n  const app = this\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'roles',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/roles', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('roles')\n\n  service.hooks(hooks)\n\n  if (service.filter) {\n    service.filter(filters)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/roles/roles.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const roles = sequelizeClient.define('roles', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    role: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      unique: true\n    }\n  },\n  {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  roles.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n  }\n\n  return roles\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/roles.model.js","const { authenticate } = require('feathers-authentication').hooks\n\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/roles/roles.hooks.js","/* eslint no-console: 1 */\nconsole.warn('You are using the default filter for the roles service. For more information about event filters see https://docs.feathersjs.com/api/events.html#event-filtering') // eslint-disable-line no-console\n\nmodule.exports = function (data, connection, hook) { // eslint-disable-line no-unused-vars\n  return data\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/roles/roles.filters.js","// Initializes the `email` service on path `/email`\nconst Mailer = require('feathers-mailer')\nconst hooks = require('./email.hooks')\nconst smtpTransport = require('nodemailer-smtp-transport')\n\nmodule.exports = function () {\n  const app = this\n\n  // Initialize our service with any options it requires\n  app.use('/email', Mailer(smtpTransport(app.get('mail'))))\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('email')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/email/email.service.js","module.exports = require(\"feathers-mailer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-mailer\"\n// module id = 44\n// module chunks = 0","const { disallow } = require('feathers-hooks-common')\n\nmodule.exports = {\n  before: {\n    all: [disallow('external')],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/email/email.hooks.js","module.exports = require(\"nodemailer-smtp-transport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nodemailer-smtp-transport\"\n// module id = 46\n// module chunks = 0","// Initializes the `company` service on path `/company`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/company.model')\nconst hooks = require('./company.hooks')\nconst filters = require('./company.filters')\n\nmodule.exports = function () {\n  const app = this\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'company',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/company', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('company')\n\n  service.hooks(hooks)\n\n  if (service.filter) {\n    service.filter(filters)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/company/company.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const company = sequelizeClient.define('company', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    data: {\n      type: DataTypes.JSONB,\n      allowNull: false\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  company.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n  }\n\n  return company\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/company.model.js","const { authenticate } = require('feathers-authentication').hooks\n\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/company/company.hooks.js","/* eslint no-console: 1 */\nconsole.warn('You are using the default filter for the company service. For more information about event filters see https://docs.feathersjs.com/api/events.html#event-filtering') // eslint-disable-line no-console\n\nmodule.exports = function (data, connection, hook) { // eslint-disable-line no-unused-vars\n  return data\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/company/company.filters.js","// Initializes the `cvr` service on path `/cvr`\nconst createService = require('feathers-elasticsearch')\nconst createModel = require('../../models/cvr.model')\nconst hooks = require('./cvr.hooks')\nconst filters = require('./cvr.filters')\n\nmodule.exports = function () {\n  const app = this\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n  const elasticsearch = {\n    index: 'cvr-permanent',\n    type: 'virksomhed'\n  }\n  const options = {\n    id: 'id',\n    Model,\n    elasticsearch,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/cvr', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('cvr')\n\n  service.hooks(hooks)\n\n  if (service.filter) {\n    service.filter(filters)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/cvr/cvr.service.js","module.exports = require(\"feathers-elasticsearch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-elasticsearch\"\n// module id = 52\n// module chunks = 0","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst elasticsearch = require('elasticsearch')\n\nmodule.exports = function (app) {\n  return new elasticsearch.Client({\n    host: 'http://LE34_CVR_I_SKYEN:33614fd2-976e-4e1a-af11-acaa0e1ec994@distribution.virk.dk',\n    apiVersion: '1.7'\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/cvr.model.js","module.exports = require(\"elasticsearch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"elasticsearch\"\n// module id = 54\n// module chunks = 0","const { authenticate } = require('feathers-authentication').hooks\n\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/cvr/cvr.hooks.js","/* eslint no-console: 1 */\nconsole.warn('You are using the default filter for the cvr service. For more information about event filters see https://docs.feathersjs.com/api/events.html#event-filtering') // eslint-disable-line no-console\n\nmodule.exports = function (data, connection, hook) { // eslint-disable-line no-unused-vars\n  return data\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/cvr/cvr.filters.js","// Initializes the `fonts` service on path `/fonts`\nconst createService = require('./fonts.class.js')\nconst hooks = require('./fonts.hooks')\nconst filters = require('./fonts.filters')\n\nmodule.exports = function () {\n  const app = this\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'fonts',\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/fonts', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('fonts')\n\n  service.hooks(hooks)\n\n  if (service.filter) {\n    service.filter(filters)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/fonts/fonts.service.js","/* eslint-disable no-unused-vars */\nclass Service {\n  constructor (options) {\n    this.options = options || {}\n  }\n\n  find (params) {\n    return Promise.resolve([])\n  }\n\n  get (id, params) {\n    return Promise.resolve({\n      id, text: `A new message with ID: ${id}!`\n    })\n  }\n\n  create (data, params) {\n    if (Array.isArray(data)) {\n      return Promise.all(data.map(current => this.create(current)))\n    }\n\n    return Promise.resolve(data)\n  }\n\n  update (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  patch (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  remove (id, params) {\n    return Promise.resolve({ id })\n  }\n}\n\nmodule.exports = function (options) {\n  return new Service(options)\n}\n\nmodule.exports.Service = Service\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/fonts/fonts.class.js","const { authenticate } = require('feathers-authentication').hooks\n\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/fonts/fonts.hooks.js","/* eslint no-console: 1 */\nconsole.warn('You are using the default filter for the fonts service. For more information about event filters see https://docs.feathersjs.com/api/events.html#event-filtering') // eslint-disable-line no-console\n\nmodule.exports = function (data, connection, hook) { // eslint-disable-line no-unused-vars\n  return data\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/fonts/fonts.filters.js","// Initializes the `files` service on path `/files`\nconst createService = require('./files.class.js')\nconst hooks = require('./files.hooks')\nconst filters = require('./files.filters')\n/*\nconst blobService = require('feathers-blob')\nconst fs = require('fs-blob-store')\nconst path = require('path')\nconst filePath = process.env.MBTILES || path.join(__dirname, '../../../../../survey/mbtiles')\nconst blobStorage = fs(filePath)\n*/\nconst multer = require('multer')\nvar storage = multer.diskStorage({\n  destination: function (req, file, cb) {\n    cb(null, process.env.MBTILES)\n  },\n  filename: function (req, file, cb) {\n    cb(null, req.body.id + '.mbtiles')\n  }\n})\nconst multipartMiddleware = multer({storage})\nmodule.exports = function () {\n  const app = this\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'files',\n    paginate\n  }\n  // app.use('/files', blobService({Model: blobStorage}))\n  app.use('/files', multipartMiddleware.single('mbtile'), createService(options))\n  // Initialize our service with any options it requires\n  // app.use('/files', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('files')\n\n  service.hooks(hooks)\n\n  if (service.filter) {\n    service.filter(filters)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/files/files.service.js","const fs = require('fs')\nconst path = require('path')\nconst filePath = process.env.MBTILES\n\nclass Service {\n  constructor (options) {\n    this.options = options || {}\n  }\n\n  find (params) {\n    return new Promise((resolve, reject) => {\n      fs.readdir(filePath, (err, files) => {\n        if (err) {\n          return reject(err)\n        }\n        const result = files.filter(file => {\n          return path.extname(file) === '.mbtiles'\n        }).map(file => {\n          return { id: path.basename(file, path.extname(file)) }\n        })\n        resolve(result)\n      })\n    })\n  }\n\n  get (id, params) {\n    console.log(params)\n    return new Promise((resolve, reject) => {\n      fs.readFile(path.join(filePath, id + '.mbtiles'), (err, data) => {\n        if (err) {\n          return reject(err)\n        }\n        resolve(data)\n      })\n    })\n  }\n\n  create (data, params) {\n    console.log('create', data, params)\n    /*\n    if (params.file && data.id) {\n      return new Promise((resolve, reject) => {\n        fs.writeFile(path.join(filePath, data.id + '.mbtiles'), params.file.buffer, err => {\n          if (err) {\n            console.log('file error', err)\n            return reject(err)\n          }\n          return resolve(data)\n        })\n      })\n    }\n    */\n    return Promise.resolve(data)\n  }\n\n  update (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  patch (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  remove (id, params) {\n    return Promise.resolve({ id })\n  }\n}\n\nmodule.exports = function (options) {\n  return new Service(options)\n}\n\nmodule.exports.Service = Service\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/files/files.class.js","// const { authenticate } = require('feathers-authentication').hooks\n\nmodule.exports = {\n  before: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/files/files.hooks.js","/* eslint no-console: 1 */\nconsole.warn('You are using the default filter for the files service. For more information about event filters see https://docs.feathersjs.com/api/events.html#event-filtering') // eslint-disable-line no-console\n\nmodule.exports = function (data, connection, hook) { // eslint-disable-line no-unused-vars\n  return data\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/files/files.filters.js","module.exports = require(\"multer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"multer\"\n// module id = 65\n// module chunks = 0","// Initializes the `data` service on path `/data`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/data.model')\nconst hooks = require('./data.hooks')\nconst filters = require('./data.filters')\n\nmodule.exports = function () {\n  const app = this\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'data',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/data', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('data')\n\n  service.hooks(hooks)\n\n  if (service.filter) {\n    service.filter(filters)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/data/data.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const data = sequelizeClient.define('data', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    meta: {\n      type: DataTypes.JSONB,\n      allowNull: true\n    },\n    style: {\n      type: DataTypes.JSONB,\n      allowNull: true\n    },\n    progress: {\n      type: DataTypes.FLOAT,\n      allowNull: false,\n      defaultValue: 0\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  data.associate = function (models) { // eslint-disable-line no-unused-vars\n    models.data.belongsTo(models.projects) // generates projectId\n    models.data.belongsTo(models.company) // generates clientId\n    models.data.belongsTo(models.users) // generates userId\n    // models.data.hasMany(models.geometries)\n  }\n\n  return data\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/data.model.js","const { authenticate } = require('feathers-authentication').hooks\n// const { discard } = require('feathers-hooks-common')\nconst tile = require('../../hooks/tile')\nconst removeMbtile = require('../../hooks/remove-mbtile')\nconst dataBeforeFind = require('../../hooks/data-before-find')\nconst noReturning = require('../../hooks/no-returning')\nconst dataAfterPatch = require('../../hooks/data-after-patch')\nconst dataAfterCreate = require('../../hooks/data-after-create')\nconst createGeometries = require('../../hooks/create-geometries')\n\nmodule.exports = {\n  before: {\n    all: [ ],\n    find: [dataBeforeFind()],\n    get: [],\n    create: [authenticate('jwt')],\n    update: [authenticate('jwt')],\n    patch: [authenticate('jwt'), noReturning()],\n    remove: [authenticate('jwt')]\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [tile(), createGeometries(), dataAfterCreate()],\n    update: [tile()],\n    patch: [dataAfterPatch()],\n    remove: [removeMbtile()]\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/data/data.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\nconst Tiler = require('../tiler.js')\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return function tile (hook) {\n    const service = hook.app.service('data')\n    if (hook.data.geojson) {\n      const tiler = new Tiler(hook.result.id, hook.data, service)\n      tiler.create()\n    // Hooks can either return nothing or a promise\n    // that resolves with the `hook` object for asynchronous operations\n    } else {\n      service.patch(hook.result.id, { progress: 100 })\n    }\n    return Promise.resolve(hook)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/tile.js","module.exports = require(\"geojson-vt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"geojson-vt\"\n// module id = 70\n// module chunks = 0","module.exports = require(\"@mapbox/mbtiles\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@mapbox/mbtiles\"\n// module id = 71\n// module chunks = 0","module.exports = require(\"vt-pbf\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vt-pbf\"\n// module id = 72\n// module chunks = 0","module.exports = require(\"zlib\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"zlib\"\n// module id = 73\n// module chunks = 0","module.exports = require(\"@turf/bbox\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@turf/bbox\"\n// module id = 74\n// module chunks = 0","module.exports = require(\"@turf/center-of-mass\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@turf/center-of-mass\"\n// module id = 75\n// module chunks = 0","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\nconst fs = require('fs')\nconst path = require('path')\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return function removeMbtile (hook) {\n    // Hooks can either return nothing or a promise\n    // that resolves with the `hook` object for asynchronous operations\n    fs.unlink(path.join(process.env.MBTILES, hook.id + '.mbtiles'), err => {\n      if (err) {\n        console.log('remove-mbtile', err)\n      }\n    })\n    return Promise.resolve(hook)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/remove-mbtile.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return (hook) => {\n    hook.params.sequelize = {\n      include: [\n        { model: hook.app.services.company.Model, attributes: ['data'] }\n      ]\n    }\n    return hook\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/data-before-find.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return (hook) => {\n    hook.params.$returning = false\n    return Promise.resolve(hook)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/no-returning.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return (hook) => {\n    hook.bypass = true\n    return hook.app.service('/data').find({\n      query: {\n        id: hook.id,\n        $select: ['id', 'projectId', 'name', 'meta', 'style', 'createdAt', 'progress']\n      }\n    }).then(result => {\n      hook.result = result[0]\n      return Promise.resolve(hook)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/data-after-patch.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return (hook) => {\n    return hook.app.service('/data').find({\n      query: {\n        id: hook.result.id,\n        $select: ['id', 'projectId', 'name', 'meta', 'style', 'createdAt', 'progress']\n      }\n    }).then(result => {\n      hook.result = result[0]\n      return Promise.resolve(hook)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/data-after-create.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return function tile (hook) {\n    if (hook.data.geojson && hook.data.geojson.features) {\n      const service = hook.app.service('geometries')\n      hook.data.geojson.features.forEach(feature => {\n        /*\n        const properties = Object.assign({}, feature.properties)\n        if (properties.hasOwnProperty('Lngde')) {\n          properties['Lngde'] = parseFloat(properties['Lngde'])\n        }\n        if (properties.hasOwnProperty('Areal')) {\n          properties['Areal'] = parseFloat(properties['Areal'])\n        }\n        if (properties.hasOwnProperty('HalvPerimeter')) {\n          properties['HalvPerimeter'] = parseFloat(properties['HalvPerimeter'])\n        }\n        */\n        const geometry = Object.assign({}, feature.geometry)\n        geometry.crs = { type: 'name', properties: { name: 'EPSG:4326' } }\n        service.create({dataId: hook.result.id, properties: feature.properties, geom: geometry})\n      })\n    }\n    // Hooks can either return nothing or a promise\n    // that resolves with the `hook` object for asynchronous operations\n    return Promise.resolve(hook)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/create-geometries.js","/* eslint no-console: 1 */\nconsole.warn('You are using the default filter for the data service. For more information about event filters see https://docs.feathersjs.com/api/events.html#event-filtering') // eslint-disable-line no-console\n\nmodule.exports = function (data, connection, hook) { // eslint-disable-line no-unused-vars\n  return data\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/data/data.filters.js","// Initializes the `projects` service on path `/projects`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/projects.model')\nconst hooks = require('./projects.hooks')\nconst filters = require('./projects.filters')\n\nmodule.exports = function () {\n  const app = this\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'projects',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/projects', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('projects')\n\n  service.hooks(hooks)\n\n  if (service.filter) {\n    service.filter(filters)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/projects/projects.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const projects = sequelizeClient.define('projects', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    public: {\n      type: DataTypes.BOOLEAN,\n      allowNull: false\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  projects.associate = function (models) { // eslint-disable-line no-unused-vars\n    models.projects.belongsTo(models.company) // generates companyId\n  }\n\n  return projects\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/projects.model.js","const { authenticate } = require('feathers-authentication').hooks\nmodule.exports = {\n  before: {\n    all: [ ],\n    find: [],\n    get: [],\n    create: [authenticate('jwt')],\n    update: [authenticate('jwt')],\n    patch: [authenticate('jwt')],\n    remove: [authenticate('jwt')]\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/projects/projects.hooks.js","/* eslint no-console: 1 */\nconsole.warn('You are using the default filter for the projects service. For more information about event filters see https://docs.feathersjs.com/api/events.html#event-filtering') // eslint-disable-line no-console\n\nmodule.exports = function (data, connection, hook) { // eslint-disable-line no-unused-vars\n  return data\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/projects/projects.filters.js","// Initializes the `geometries` service on path `/geometries`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/geometries.model')\nconst hooks = require('./geometries.hooks')\nconst filters = require('./geometries.filters')\n\nmodule.exports = function () {\n  const app = this\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'geometries',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/geometries', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('geometries')\n\n  service.hooks(hooks)\n\n  if (service.filter) {\n    service.filter(filters)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/geometries/geometries.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const geometries = sequelizeClient.define('geometries', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    properties: {\n      type: DataTypes.JSONB,\n      allowNull: true\n    },\n    geom: {\n      type: DataTypes.GEOMETRY,\n      allowNull: false\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  geometries.associate = function (models) { // eslint-disable-line no-unused-vars\n    models.geometries.belongsTo(models.data, {as: 'data', onDelete: 'CASCADE'})\n  }\n\n  return geometries\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/geometries.model.js","\nconst geometriesBeforeFind = require('../../hooks/geometries-before-find')\nmodule.exports = {\n  before: {\n    all: [],\n    find: [geometriesBeforeFind()],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/geometries/geometries.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\nconst Sequelize = require('sequelize')\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return (hook) => {\n    hook.params.$pagination = false\n    hook.params.sequelize = {\n      attributes: [\n        [Sequelize.fn('SUM', Sequelize.cast(Sequelize.json('properties.HalvPerimeter'), 'float')), 'length'],\n        [Sequelize.json('properties.feature'), 'feature']\n      ],\n      group: ['feature']\n    }\n    return hook\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/geometries-before-find.js","/* eslint no-console: 1 */\nconsole.warn('You are using the default filter for the geometries service. For more information about event filters see https://docs.feathersjs.com/api/events.html#event-filtering') // eslint-disable-line no-console\n\nmodule.exports = function (data, connection, hook) { // eslint-disable-line no-unused-vars\n  return data\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/geometries/geometries.filters.js","// Initializes the `totals` service on path `/totals`\nconst createService = require('./totals.class.js')\nconst hooks = require('./totals.hooks')\n\nmodule.exports = function () {\n  const app = this\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'totals',\n    connectionString: app.get('postgres'),\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/totals', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('totals')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/totals/totals.service.js","/* eslint-disable no-unused-vars */\nconst { Pool } = require('pg')\n\nclass Service {\n  constructor (options) {\n    this.options = options || {}\n    this.pool = new Pool({\n      connectionString: options.connectionString\n    })\n  }\n\n  find (params) {\n    return new Promise((resolve, reject) => {\n      let sql = `\n      select a.id, count(*)::integer as antal, a.st_geometrytype, sum(a.st_length) as st_length, sum(a.st_area) as st_area, sum(a.st_perimeter) as st_perimeter from (\n        select\n          properties->>'feature' as id, \n          st_geometrytype(geom) as st_geometrytype, \n          st_length(st_transform(geom, 25832)) as st_length, \n          st_area(st_transform(geom, 25832)) as st_area, \n          st_perimeter(st_transform(geom, 25832)) as st_perimeter\n        from geometries\n      `\n      if (params.query) {\n        if (params.query.dataId) {\n          sql += 'where \"dataId\"=\\'' + params.query.dataId + '\\''\n        } else if (params.query.projectId) {\n          sql += 'inner join data on geometries.\"dataId\" = data.id where data.\"projectId\" = \\'' + params.query.projectId + '\\''\n        }\n      }\n      if (params.query.geojson && params.query.geojson.features.length > 0) {\n        sql += ' and '\n        params.query.geojson.features.forEach(feature => {\n          sql += 'ST_Contains(ST_SetSRID(ST_GeomFromGeoJSON(\\'' + JSON.stringify(feature.geometry) + '\\'),4326), geom) or '\n        })\n        sql = sql.substring(0, sql.length - 3)\n      }\n\n      sql += `) as a\n      group by a.id, a.st_geometrytype`\n      console.log(sql)\n      this.pool.query(sql, (err, res) => {\n        if (err) {\n          return reject(err)\n        }\n        resolve(res.rows)\n      })\n    })\n  }\n\n  get (id, params) {\n    return Promise.resolve({\n      id, text: `A new message with ID: ${id}!`\n    })\n  }\n\n  create (data, params) {\n    if (Array.isArray(data)) {\n      return Promise.all(data.map(current => this.create(current)))\n    }\n\n    return Promise.resolve(data)\n  }\n\n  update (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  patch (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  remove (id, params) {\n    return Promise.resolve({ id })\n  }\n}\n\nmodule.exports = function (options) {\n  return new Service(options)\n}\n\nmodule.exports.Service = Service\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/totals/totals.class.js","module.exports = require(\"pg\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pg\"\n// module id = 94\n// module chunks = 0","\nmodule.exports = {\n  before: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/totals/totals.hooks.js","// Application hooks that run for every service\nconst logger = require('./hooks/logger')\n\nmodule.exports = {\n  before: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [ logger() ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [ logger() ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.hooks.js","// A hook that logs service method before, after and error\nconst logger = require('winston')\n\nmodule.exports = function () {\n  return function (hook) {\n    let message = `${hook.type}: ${hook.path} - Method: ${hook.method}`\n\n    if (hook.type === 'error') {\n      message += `: ${hook.error.message}`\n    }\n\n    logger.info(message)\n    logger.debug('hook.data', hook.data)\n    logger.debug('hook.params', hook.params)\n\n    if (hook.result) {\n      logger.debug('hook.result', hook.result)\n    }\n\n    if (hook.error) {\n      logger.error(hook.error)\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/logger.js","const authentication = require('feathers-authentication')\nconst jwt = require('feathers-authentication-jwt')\nconst local = require('feathers-authentication-local')\nconst authManagement = require('feathers-authentication-management')\nconst notifier = require('./notifier')\n\nmodule.exports = function () {\n  const app = this\n  const config = app.get('authentication')\n\n  // Set up authentication with the secret\n  app.configure(authentication(config))\n  app.configure(jwt())\n  app.configure(local())\n  app.configure(authManagement(notifier(app)))\n  // The `authentication` service is used to create a JWT.\n  // The before `create` hook registers strategies that can be used\n  // to create a new valid JWT (e.g. local or oauth2)\n  app.service('authentication').hooks({\n    before: {\n      create: [\n        authentication.hooks.authenticate(config.strategies)\n      ],\n      remove: [\n        authentication.hooks.authenticate('jwt')\n      ]\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/authentication.js","module.exports = require(\"feathers-authentication-jwt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-authentication-jwt\"\n// module id = 99\n// module chunks = 0","const Sequelize = require('sequelize')\nconst seed = require('./seed')\nmodule.exports = function () {\n  const app = this\n  const connectionString = app.get('postgres')\n  const sequelize = new Sequelize(connectionString, {\n    dialect: 'postgres',\n    logging: false,\n    define: {\n      freezeTableName: true\n    }\n  })\n  const oldSetup = app.setup\n\n  app.set('sequelizeClient', sequelize)\n\n  app.setup = function (...args) {\n    const result = oldSetup.apply(this, args)\n\n    // Set up data relationships\n    const models = sequelize.models\n    Object.keys(models).forEach(name => {\n      if ('associate' in models[name]) {\n        models[name].associate(models)\n      }\n    })\n\n    // Sync to the database\n    sequelize.sync().then(() => {\n      app.configure(seed)\n    })\n\n    return result\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/sequelize.js","const rolesData = require('./roles.js')\nconst usersData = require('./users.js')\nconst companyData = require('./company.js')\nconst Tiler = require('../tiler.js')\n\nmodule.exports = function () {\n  const app = this\n  const ifEmptyCreate2 = ifEmptyCreate.bind(this)\n  app.configure(ifEmptyCreate2('roles', rolesData))\n  app.configure(ifEmptyCreate2('users', usersData))\n  app.configure(ifEmptyCreate2('company', companyData))\n  app.configure(tile)\n}\n\n// ### ifEmptyCreate(model, data)\n/**\n * If the model is empty then populate it's data\n * @param {object} model Mongoose Model\n * @param {object|object[]} data Object data or Array of Object data to insert\n * @return {function} Returns a method to be called by configure\n */\nfunction ifEmptyCreate (name, data) {\n  return async () => {\n    try {\n      let found = await this.service(name).find({query: {}})\n      if (found && Number.isInteger(found.total) && Array.isArray(found.data)) {\n        found = found.data\n      }\n      if (found.length !== 0) { return false }\n      await this.service(name).create(data)\n      console.log('default ' + name + ' created')\n    } catch (err) {\n      if (err) { console.log('trouble seeding ' + name + ': ', err) }\n    }\n  }\n}\n\nfunction tile () {\n  const service = this.service('data')\n  return service.find({\n    query: {\n      progress: {\n        $lt: 100\n      }\n    }\n  }).then(data => {\n    data.forEach(item => {\n      if (item.meta && item.meta === 0) {\n        const tiler = new Tiler(item, service)\n        tiler.create()\n      }\n    })\n  }).catch(function (error) {\n    console.error(error)\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/seed/index.js","const system = {\n  role: 'system'\n}\n\nconst admin = {\n  role: 'admin'\n}\n\nconst basic = {\n  role: 'basic'\n}\n\nmodule.exports = [system, admin, basic]\n\n\n\n// WEBPACK FOOTER //\n// ./src/seed/roles.js","const system = {\n  role: 'system',\n  email: 'rut@le34.dk',\n  password: process.env.PASSWORD || 'admin',\n  isVerified: true,\n  companyId: '6714a515-bec0-4d2b-a5e4-76d16cb845c0'\n}\n\nmodule.exports = [ system ]\n\n\n\n// WEBPACK FOOTER //\n// ./src/seed/users.js","const clients = [\n  {\n    id: '5b9462c3-bd11-4bd0-8937-7db762fb22c0',\n    name: 'Wicotec Kirkebjerg A/S',\n    cvrno: '73585511',\n    type: 'opdragsgiver',\n    clients: ['edaf7d39-985a-4396-85ff-d5a5d4450a16', 'b927d198-351f-4c5d-9054-424bf6fb7c94']\n  },\n  {\n    id: '6714a515-bec0-4d2b-a5e4-76d16cb845c0',\n    name: 'LE34',\n    cvrno: '27758592',\n    type: 'opdragsgiver',\n    clients: ['0b67b5af-ed80-4860-9c49-864060d8ae25', 'b927d198-351f-4c5d-9054-424bf6fb7c94']\n  },\n  {\n    id: '1ec75ea6-7022-4813-9e2d-2630003ea392',\n    name: 'JFE A/S',\n    cvrno: '74760716',\n    type: 'opdragsgiver',\n    clients: ['b428964d-13b3-4aea-91ad-4e32f3481959', '7282afcb-b458-4c6b-b57b-a5cb9e5a6a68', 'bd52f4a5-2cfe-4aff-a0dc-cca6e50f463b']\n  },\n  {\n    id: 'edaf7d39-985a-4396-85ff-d5a5d4450a16',\n    name: 'Albertslund Varmevrk',\n    cvrno: '1003267160',\n    type: 'slutbruger'\n  },\n  {\n    id: 'b927d198-351f-4c5d-9054-424bf6fb7c94',\n    name: 'Hvals Kraftvarmevrk',\n    cvrno: '44057212',\n    type: 'slutbruger'\n  },\n  {\n    id: '0b67b5af-ed80-4860-9c49-864060d8ae25',\n    name: 'Egedal Fjernvarme',\n    cvrno: '35410538',\n    type: 'slutbruger'\n  },\n  {\n    id: '1d95ef7d-e51a-42f4-82fa-91b277f4c148',\n    name: 'EnergiMidt',\n    cvrno: '36423544',\n    type: 'slutbruger'\n  },\n  {\n    id: 'b428964d-13b3-4aea-91ad-4e32f3481959',\n    name: 'Solrd Fjernvarme amba',\n    cvrno: '23104113',\n    type: 'slutbruger'\n  },\n  {\n    id: '7282afcb-b458-4c6b-b57b-a5cb9e5a6a68',\n    name: 'Rdovre Kommunale Fjernvarmeforsyning',\n    cvrno: '6530731677',\n    type: 'slutbruger'\n  },\n  {\n    id: 'bd52f4a5-2cfe-4aff-a0dc-cca6e50f463b',\n    name: 'Norfors I/S',\n    cvrno: '14748539',\n    type: 'slutbruger'\n  },\n  {\n    id: '7c830e38-9903-44e6-98f7-7f79941b16ff',\n    name: 'DONG',\n    cvrno: '1234',\n    type: 'slutbruger'\n  },\n  {\n    id: 'c06ea06e-25b5-473e-80ec-abd894a27ddc',\n    name: 'KE_Transmission',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: 'f4e2bbf9-55b7-4e59-9ff0-2155544fc1fe',\n    name: 'Kemp_Lauritzen',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: 'aa160aff-b9be-4cdc-8590-fd203644c5e7',\n    name: 'NCC',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: 'b9e22955-89ce-43e6-87f6-4de131436a22',\n    name: 'Demo',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: '2e8df1dd-458d-4c8e-8498-7f79931b15ff',\n    name: 'MTH',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: 'd78ae731-0026-46fd-be2b-c05e6663cfe5',\n    name: 'Bravida',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: '020c4051-b910-438c-a50b-8a3fe1898fda',\n    name: 'Nordkysten',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: '7c730e38-9903-44e6-98f7-9c32c87c9c03',\n    name: 'Munck',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  }\n]\n\nmodule.exports = clients.map(client => {\n  return {\n    id: client.id,\n    data: {\n      name: client.name,\n      cvrno: client.cvrno,\n      type: client.type,\n      clients: client.clients\n    }\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/seed/company.js"],"sourceRoot":""}