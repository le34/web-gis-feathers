{"version":3,"sources":["webpack:///webpack/bootstrap 2c63693d12ff4023eb07","webpack:///external \"sequelize\"","webpack:///external \"feathers-sequelize\"","webpack:///external \"@feathersjs/authentication\"","webpack:///external \"path\"","webpack:///external \"feathers-authentication-hooks\"","webpack:///./src/hooks/get-after.js","webpack:///external \"fs\"","webpack:///external \"winston\"","webpack:///external \"feathers-hooks-common\"","webpack:///external \"@feathersjs/authentication-local\"","webpack:///external \"feathers-authentication-management\"","webpack:///./src/notifier.js","webpack:///./src/tiler.js","webpack:///external \"@mapbox/mbtiles\"","webpack:///external \"zlib\"","webpack:///external \"wellknown\"","webpack:///external \"reproject\"","webpack:///external \"epsg\"","webpack:///./src/hooks/db-before.js","webpack:///./src/index.js","webpack:///./src/app.js","webpack:///external \"serve-favicon\"","webpack:///external \"compression\"","webpack:///external \"cors\"","webpack:///external \"helmet\"","webpack:///external \"@feathersjs/feathers\"","webpack:///external \"@feathersjs/configuration\"","webpack:///external \"@feathersjs/express\"","webpack:///external \"@feathersjs/socketio\"","webpack:///./src/middleware/index.js","webpack:///./src/services/index.js","webpack:///./src/services/users/users.service.js","webpack:///./src/models/users.model.js","webpack:///./src/services/users/users.hooks.js","webpack:///./src/hooks/send-verification-email.js","webpack:///external \"pug\"","webpack:///./src/hooks/user-before.js","webpack:///./src/hooks/user-client-after.js","webpack:///./src/hooks/users-restrict.js","webpack:///external \"@feathersjs/errors\"","webpack:///./src/services/roles/roles.service.js","webpack:///./src/models/roles.model.js","webpack:///./src/services/roles/roles.hooks.js","webpack:///./src/services/email/email.service.js","webpack:///external \"feathers-mailer\"","webpack:///./src/services/email/email.hooks.js","webpack:///external \"nodemailer-smtp-transport\"","webpack:///./src/services/companies/companies.service.js","webpack:///./src/models/companies.model.js","webpack:///./src/services/companies/companies.hooks.js","webpack:///./src/services/cvr/cvr.service.js","webpack:///external \"feathers-elasticsearch\"","webpack:///./src/models/cvr.model.js","webpack:///external \"elasticsearch\"","webpack:///./src/services/cvr/cvr.hooks.js","webpack:///./src/services/fonts/fonts.service.js","webpack:///./src/services/fonts/fonts.class.js","webpack:///./src/services/fonts/fonts.hooks.js","webpack:///./src/services/files/files.service.js","webpack:///./src/services/files/files.class.js","webpack:///./src/services/files/files.hooks.js","webpack:///external \"multer\"","webpack:///./src/services/datasources/datasources.service.js","webpack:///./src/models/datasources.model.js","webpack:///./src/services/datasources/datasources.hooks.js","webpack:///./src/hooks/tile.js","webpack:///external \"geojson-vt\"","webpack:///external \"vt-pbf\"","webpack:///external \"@turf/bbox\"","webpack:///external \"@turf/center-of-mass\"","webpack:///external \"uuid/v4\"","webpack:///./src/hooks/remove-mbtile.js","webpack:///./src/hooks/datasources-before.js","webpack:///./src/hooks/datasources-before-remove.js","webpack:///./src/services/projects/projects.service.js","webpack:///./src/models/projects.model.js","webpack:///./src/services/projects/projects.hooks.js","webpack:///./src/hooks/projects-before.js","webpack:///./src/services/geometries/geometries.service.js","webpack:///./src/models/geometries.model.js","webpack:///./src/services/geometries/geometries.hooks.js","webpack:///./src/hooks/geometries-before-find.js","webpack:///./src/services/totals/totals.service.js","webpack:///./src/services/totals/totals.class.js","webpack:///external \"pg\"","webpack:///./src/services/totals/totals.hooks.js","webpack:///./src/hooks/totals-before.js","webpack:///./src/services/db/db.service.js","webpack:///./src/services/db/db.class.js","webpack:///./src/services/db/db.hooks.js","webpack:///./src/services/extent/extent.service.js","webpack:///./src/services/extent/extent.class.js","webpack:///./src/services/extent/extent.hooks.js","webpack:///./src/services/styles/styles.service.js","webpack:///./src/models/styles.model.js","webpack:///./src/services/styles/styles.hooks.js","webpack:///./src/hooks/styles-before.js","webpack:///./src/hooks/styles-before-remove.js","webpack:///./src/services/layers/layers.service.js","webpack:///./src/models/layers.model.js","webpack:///./src/services/layers/layers.hooks.js","webpack:///./src/hooks/layers-before.js","webpack:///./src/services/clients/clients.service.js","webpack:///./src/models/clients.model.js","webpack:///./src/services/clients/clients.hooks.js","webpack:///./src/hooks/clients-before.js","webpack:///./src/services/datasourcetypes/datasourcetypes.service.js","webpack:///./src/models/datasourcetypes.model.js","webpack:///./src/services/datasourcetypes/datasourcetypes.hooks.js","webpack:///./src/services/tiles/tiles.service.js","webpack:///./src/services/tiles/tiles.class.js","webpack:///./src/services/tiles/tiles.hooks.js","webpack:///external \"sharp\"","webpack:///./src/services/tools/tools.service.js","webpack:///./src/models/tools.model.js","webpack:///./src/services/tools/tools.hooks.js","webpack:///./src/hooks/tools-before.js","webpack:///./src/services/projects-tools/projects-tools.service.js","webpack:///./src/models/projects-tools.model.js","webpack:///./src/services/projects-tools/projects-tools.hooks.js","webpack:///./src/hooks/projects-tools-before.js","webpack:///./src/services/logos/logos.service.js","webpack:///./src/models/logos.model.js","webpack:///./src/services/logos/logos.hooks.js","webpack:///./src/services/codetables/codetables.service.js","webpack:///./src/services/codetables/codetables.class.js","webpack:///external \"xml2js\"","webpack:///external \"iconv-lite\"","webpack:///./src/services/codetables/codetables.hooks.js","webpack:///./src/app.hooks.js","webpack:///./src/hooks/logger.js","webpack:///./src/channels.js","webpack:///./src/authentication.js","webpack:///external \"@feathersjs/authentication-jwt\"","webpack:///external \"feathers-authentication-ldap\"","webpack:///./src/ldap.js","webpack:///./src/sequelize.js","webpack:///./src/seed/index.js","webpack:///./src/seed/roles.js","webpack:///./src/seed/companies.js","webpack:///./src/seed/datasourcetypes.js"],"names":["module","exports","options","context","service","get","result","id","then","path","require","pug","isProd","returnEmail","app","getLink","type","hash","port","host","protocal","sendEmail","email","create","console","log","catch","err","notifier","user","notifierOptions","hashLink","emailAccountTemplatesPath","join","__dirname","templatePath","compiledHTML","verifyToken","renderFile","logo","name","from","to","subject","html","resetToken","geojsonvt","MBTiles","vtpbf","zlib","fs","bbox","centerOfMass","filePath","process","env","MBTILES","Tiler","data","_service","_features","_current","_last","_data","Object","assign","_id","_mbtilesFile","prototype","remove","Promise","resolve","reject","unlink","putTile","_tileIndex","tileCoords","length","item","progress","Math","round","patch","tile","getTile","z","x","y","layers","features","forEach","feature","layername","tags","indexOf","push","hasOwnProperty","layers2","keys","key","layer","GeoJSONWrapper","version","buff","fromVectorTileJs","buffer","Buffer","gzip","_mbtiles","geojson","debug","maxZoom","indexMaxZoom","indexMaxPoints","tileIndex","mbtiles","startWriting","center","putInfo","bounds","geometry","coordinates","description","format","map","minzoom","maxzoom","fields","stopWriting","close","hook","params","logger","server","listen","on","reason","p","error","info","favicon","compress","cors","helmet","feathers","configuration","express","socketio","middleware","services","appHooks","channels","authentication","sequelize","configure","use","json","limit","urlencoded","extended","static","rest","notFound","errorHandler","hooks","users","roles","companies","cvr","fonts","files","datasources","projects","geometries","totals","db","extent","styles","clients","datasourcetypes","tiles","tools","projectsTools","logos","codetables","createService","createModel","Model","paginate","default","max","Sequelize","DataTypes","sequelizeClient","define","UUID","primaryKey","defaultValue","UUIDV4","STRING","allowNull","unique","password","isEnabled","BOOLEAN","isVerified","verifyShortToken","verifyExpires","DATE","verifyChanges","JSONB","resetShortToken","resetExpires","beforeCount","raw","associate","models","belongsTo","authenticate","commonHooks","restrictToOwner","hashPassword","verifyHooks","restrict","idField","ownerField","sendVerificationEmail","userBefore","userClientAfter","usersRestrict","before","all","find","addVerification","update","disallow","iff","isProvider","preventChanges","after","when","provider","discard","removeVerification","accountService","include","model","query","errors","NotAuthenticated","NotAcceptable","role","companyId","Forbidden","NotFound","Mailer","smtpTransport","TEXT","elasticsearch","index","Client","apiVersion","Service","constructor","text","Array","isArray","current","multer","storage","diskStorage","destination","req","file","cb","filename","body","multipartMiddleware","single","readdir","filter","extname","basename","readFile","FLOAT","onDelete","removeMbtile","datasourcesBefore","getAfter","associateCurrentUser","datasourcesBeforeRemove","v4","geometryService","tiler","datasourceId","crs","properties","geom","method","style","projectId","dark","sources","paint","light","datasourcetypeId","codeTables","tileJson","promises","vector_layers","layerid","split","kode","items","substr","kodetabel","layerlight","JSON","parse","stringify","layerdark","metadata","source","category","layerCircle","layerLine","tileSize","FEATHERS","styleId","attributes","public","projectsBefore","GEOMETRY","geometriesBeforeFind","$pagination","fn","cast","group","connectionString","Pool","pool","sql","substring","res","rows","totalsBefore","reproj","epsg","mssql","meta","geometryColumn","dbTable","QueryTypes","SELECT","wkt","srid","toWgs84","st_asgeojson","dbBefore","stylesBefore","stylesBeforeRemove","priority","INTEGER","active","isDark","isBasemap","layersBefore","clientsBefore","sharp","empty","width","height","background","r","g","b","alpha","png","toBuffer","next","set","send","isGzipped","slice","status","PORT","urlPrefix","URL_PREFIX","mbtilesFile","headers","stat","stats","isFile","size","instance","getInfo","toolsBefore","projects_tools","projectsToolsBefore","xml2js","iconv","XFM","names","ext","encoding","decode","parser","Parser","parseString","GeospatialSchema","Workspace","Features","element","$","alias","X34","WebGisWidth","parseInt","color","WebGisColor","dash","WebGisDash","isNaN","Symbology","toJSON","channel","connection","authResult","leave","connections","publish","jwt","local","authManagement","ldap","LDAPVerifier","config","Verifier","strategies","Error","verify","bind","_normalizeResult","results","entities","entity","done","usernameField","entityUsernameField","mail","undefined","response","cn","payload","message","seed","dialect","logging","freezeTableName","oldSetup","setup","args","apply","sync","rolesData","companiesData","datasourcetypesData","ifEmptyCreate2","ifEmptyCreate","found","Number","isInteger","total","$lt","system","admin","basic","cvrno","client","database","geotiff"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 19);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2c63693d12ff4023eb07","module.exports = require(\"sequelize\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sequelize\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"feathers-sequelize\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-sequelize\"\n// module id = 1\n// module chunks = 0","module.exports = require(\"@feathersjs/authentication\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@feathersjs/authentication\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 3\n// module chunks = 0","module.exports = require(\"feathers-authentication-hooks\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-authentication-hooks\"\n// module id = 4\n// module chunks = 0","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    return context.service.get(context.result.id).then(result => {\n      context.result = result\n      return context\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/get-after.js","module.exports = require(\"fs\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"fs\"\n// module id = 6\n// module chunks = 0","module.exports = require(\"winston\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"winston\"\n// module id = 7\n// module chunks = 0","module.exports = require(\"feathers-hooks-common\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-hooks-common\"\n// module id = 8\n// module chunks = 0","module.exports = require(\"@feathersjs/authentication-local\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@feathersjs/authentication-local\"\n// module id = 9\n// module chunks = 0","module.exports = require(\"feathers-authentication-management\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-authentication-management\"\n// module id = 10\n// module chunks = 0","const path = require('path')\nconst pug = require('pug')\nconst isProd = process.env.NODE_ENV === 'production'\nconst returnEmail = 'noreply@le34.dk'\nmodule.exports = function (app) {\n  function getLink (type, hash) {\n    var port = isProd ? '' : ':3000'\n    var host = isProd ? 'survey.le34.dk' : 'localhost'\n    var protocal = isProd ? 'https' : 'http'\n    protocal += '://'\n    return `${protocal}${host}${port}/${type}/${hash}`\n  }\n  function sendEmail (email) {\n    return app.service('email').create(email).then(function (result) {\n      console.log('Sent email', result)\n    }).catch(err => {\n      console.log('Error sending email', err)\n    })\n  }\n  return {\n    notifier: function (type, user, notifierOptions) {\n      console.log(`-- Preparing email for ${type}`)\n      var hashLink\n      var email\n      var emailAccountTemplatesPath = path.join(__dirname, 'email-templates')\n      console.log('emailAccountTemplatesPath', emailAccountTemplatesPath)\n      var templatePath\n      var compiledHTML\n\n      switch (type) {\n        case 'resendVerifySignup': // send another email with link for verifying user's email addr\n\n          hashLink = getLink('verify', user.verifyToken)\n          console.log(hashLink)\n          templatePath = path.join(emailAccountTemplatesPath, 'verify-email.pug')\n\n          compiledHTML = pug.renderFile(templatePath, {\n            logo: '',\n            name: user.name || user.email,\n            hashLink,\n            returnEmail\n          })\n\n          email = {\n            from: returnEmail,\n            to: user.email,\n            subject: 'Confirm Signup',\n            html: compiledHTML\n          }\n\n          return sendEmail(email)\n        case 'sendResetPwd': // inform that user's email is now confirmed\n\n          hashLink = getLink('reset', user.resetToken)\n\n          templatePath = path.join(emailAccountTemplatesPath, 'reset-password.pug')\n\n          compiledHTML = pug.renderFile(templatePath, {\n            logo: '',\n            name: user.name || user.email,\n            hashLink,\n            returnEmail\n          })\n\n          email = {\n            from: returnEmail,\n            to: user.email,\n            subject: 'Reset Password',\n            html: compiledHTML\n          }\n\n          return sendEmail(email)\n        case 'resetPwd': // inform that user's email is now confirmed\n\n          hashLink = getLink('reset', user.resetToken)\n\n          templatePath = path.join(emailAccountTemplatesPath, 'password-was-reset.pug')\n\n          compiledHTML = pug.renderFile(templatePath, {\n            logo: '',\n            name: user.name || user.email,\n            hashLink,\n            returnEmail\n          })\n\n          email = {\n            from: returnEmail,\n            to: user.email,\n            subject: 'Your password was reset',\n            html: compiledHTML\n          }\n\n          return sendEmail(email)\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/notifier.js","/* eslint no-new: 0 */\nvar geojsonvt = require('geojson-vt')\nvar MBTiles = require('@mapbox/mbtiles')\nvar path = require('path')\nvar vtpbf = require('vt-pbf')\nvar zlib = require('zlib')\nvar fs = require('fs')\nvar bbox = require('@turf/bbox')\nvar centerOfMass = require('@turf/center-of-mass')\nconst filePath = process.env.MBTILES\nmodule.exports = Tiler\n\nfunction Tiler (id, data, service) {\n  this._service = service\n  this._features = []\n  this._current = 0\n  this._last = 0\n  this._data = Object.assign({}, data)\n  this._id = id\n  // this._mbtilesFile = path.join(__dirname, 'data', data.id + '.mbtiles')\n  this._mbtilesFile = path.join(filePath, id + '.mbtiles')\n}\n\nTiler.prototype.remove = function () {\n  return new Promise((resolve, reject) => {\n    fs.unlink(this._mbtilesFile, () => {\n      resolve()\n    })\n  })\n}\n\nTiler.prototype.putTile = function () {\n  if (this._current !== this._tileIndex.tileCoords.length) {\n    const item = this._tileIndex.tileCoords[this._current]\n    const progress = Math.round(100 * (this._current + 1) / this._tileIndex.tileCoords.length)\n    return Promise.resolve().then(() => {\n      if (progress > this._last) {\n        this._last = progress\n        return this._service.patch(this._id, { progress })\n      }\n    }).then(() => {\n      var tile = this._tileIndex.getTile(item.z, item.x, item.y)\n      var layers = {}\n      tile.features.forEach((feature) => {\n        let layername = feature.tags.feature || this._id\n        if (this._features.indexOf(layername) === -1) {\n          this._features.push(layername)\n        }\n        if (!layers.hasOwnProperty(layername)) {\n          layers[layername] = []\n        }\n        layers[layername].push(feature)\n      })\n      var layers2 = {}\n      Object.keys(layers).forEach((key) => {\n        var layer = new vtpbf.GeoJSONWrapper(layers[key])\n        layer.name = key\n        layer.version = 2\n        layers2[key] = layer\n      })\n      var buff = vtpbf.fromVectorTileJs({\n        layers: layers2\n      })\n      var buffer = Buffer.from(buff)\n      return new Promise((resolve, reject) => {\n        zlib.gzip(buffer, (err, result) => {\n          if (err) {\n            return reject(err)\n          }\n          resolve(result)\n        })\n      })\n    }).then(result => {\n      return new Promise((resolve, reject) => {\n        this._mbtiles.putTile(item.z, item.x, item.y, result, (err) => {\n          if (err) {\n            return reject(err)\n          }\n          resolve()\n        })\n      })\n    }).then(() => {\n      this._current++\n      return this.putTile()\n    })\n  }\n}\n\nTiler.prototype.create = function () {\n  return Promise.resolve().then(() => {\n    return geojsonvt(this._data.geojson, { debug: 0, maxZoom: 20, indexMaxZoom: 20, indexMaxPoints: 0 })\n  }).then((tileIndex) => {\n    this._tileIndex = tileIndex\n    return this.remove()\n  }).then(() => {\n    return new Promise((resolve, reject) => {\n      new MBTiles(this._mbtilesFile, (err, mbtiles) => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve(mbtiles)\n        }\n      })\n    })\n  }).then((mbtiles) => {\n    this._mbtiles = mbtiles\n    return new Promise((resolve, reject) => {\n      mbtiles.startWriting(err => {\n        if (err) {\n          reject(err)\n        } else {\n          resolve()\n        }\n      })\n    })\n  }).then(() => {\n    return this.putTile()\n  }).then(() => {\n    var center = centerOfMass(this._data.geojson)\n    return new Promise((resolve, reject) => {\n      this._mbtiles.putInfo({\n        bounds: bbox(this._data.geojson),\n        center: [center.geometry.coordinates[0], center.geometry.coordinates[1], 16],\n        version: '2',\n        name: this._id,\n        description: this._data.name,\n        type: 'overlay',\n        format: 'pbf',\n        'vector_layers': this._features.map((id) => {\n          return {\n            id: id, description: '', minzoom: 0, maxzoom: 22, fields: {}\n          }\n        })\n      }, (err) => {\n        if (err) {\n          return reject(err)\n        }\n        resolve()\n      })\n    })\n  }).then(() => {\n    return new Promise((resolve, reject) => {\n      this._mbtiles.stopWriting((err) => {\n        if (err) {\n          return reject(err)\n        }\n        resolve()\n      })\n    })\n  }).then(() => {\n    return new Promise((resolve, reject) => {\n      this._mbtiles.close((err) => {\n        if (err) {\n          return reject(err)\n        }\n        console.log('closed')\n        resolve()\n      })\n    })\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/tiler.js","module.exports = require(\"@mapbox/mbtiles\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@mapbox/mbtiles\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"zlib\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"zlib\"\n// module id = 14\n// module chunks = 0","module.exports = require(\"wellknown\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"wellknown\"\n// module id = 15\n// module chunks = 0","module.exports = require(\"reproject\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"reproject\"\n// module id = 16\n// module chunks = 0","module.exports = require(\"epsg\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"epsg\"\n// module id = 17\n// module chunks = 0","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return hook => {\n    return hook.app.service('datasources').get(hook.id).then(result => {\n      hook.params.data = result\n      return Promise.resolve(hook)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/db-before.js","/* eslint-disable no-console */\nconst logger = require('winston')\nconst app = require('./app')\nconst port = app.get('port')\nconst server = app.listen(port)\n\nprocess.on('unhandledRejection', (reason, p) =>\n  logger.error('Unhandled Rejection at: Promise ', p, reason)\n)\n\nserver.on('listening', () =>\n  logger.info('Feathers application started on http://%s:%d', app.get('host'), port)\n)\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","const path = require('path')\nconst favicon = require('serve-favicon')\nconst compress = require('compression')\nconst cors = require('cors')\nconst helmet = require('helmet')\nconst logger = require('winston')\n\nconst feathers = require('@feathersjs/feathers')\nconst configuration = require('@feathersjs/configuration')\nconst express = require('@feathersjs/express')\n// const rest = require('@feathersjs/express/rest')\nconst socketio = require('@feathersjs/socketio')\n\n// const handler = require('@feathersjs/express/errors')\n// const notFound = require('feathers-errors/not-found')\n\nconst middleware = require('./middleware')\nconst services = require('./services')\nconst appHooks = require('./app.hooks')\nconst channels = require('./channels')\n\nconst authentication = require('./authentication')\n\nconst sequelize = require('./sequelize')\n\nconst app = express(feathers())\n\n// Load app configuration\napp.configure(configuration())\n// Enable CORS, security, compression, favicon and body parsing\napp.use(cors())\napp.use(helmet())\napp.use(compress())\napp.use(express.json({ limit: '1gb' }))\napp.use(express.urlencoded({ extended: true }))\napp.use(favicon(path.join(app.get('public'), 'favicon.ico')))\n// Host the public folder\napp.use('/', express.static(app.get('public')))\n\n// Set up Plugins and providers\napp.configure(express.rest())\napp.configure(socketio())\n\napp.configure(sequelize)\n\n// Configure other middleware (see `middleware/index.js`)\napp.configure(middleware)\napp.configure(authentication)\n// Set up our services (see `services/index.js`)\napp.configure(services)\n// Set up event channels (see channels.js)\napp.configure(channels)\n\n// Configure a middleware for 404s and the error handler\napp.use(express.notFound())\napp.use(express.errorHandler({ logger }))\n\napp.hooks(appHooks)\n\nmodule.exports = app\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.js","module.exports = require(\"serve-favicon\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"serve-favicon\"\n// module id = 22\n// module chunks = 0","module.exports = require(\"compression\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"compression\"\n// module id = 23\n// module chunks = 0","module.exports = require(\"cors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cors\"\n// module id = 24\n// module chunks = 0","module.exports = require(\"helmet\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"helmet\"\n// module id = 25\n// module chunks = 0","module.exports = require(\"@feathersjs/feathers\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@feathersjs/feathers\"\n// module id = 26\n// module chunks = 0","module.exports = require(\"@feathersjs/configuration\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@feathersjs/configuration\"\n// module id = 27\n// module chunks = 0","module.exports = require(\"@feathersjs/express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@feathersjs/express\"\n// module id = 28\n// module chunks = 0","module.exports = require(\"@feathersjs/socketio\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@feathersjs/socketio\"\n// module id = 29\n// module chunks = 0","module.exports = function () {\n  // Add your custom middleware here. Remember, that\n  // in Express the order matters\n  const app = this // eslint-disable-line no-unused-vars\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/middleware/index.js","const users = require('./users/users.service.js')\nconst roles = require('./roles/roles.service.js')\nconst email = require('./email/email.service.js')\nconst companies = require('./companies/companies.service.js')\nconst cvr = require('./cvr/cvr.service.js')\nconst fonts = require('./fonts/fonts.service.js')\nconst files = require('./files/files.service.js')\nconst datasources = require('./datasources/datasources.service.js')\nconst projects = require('./projects/projects.service.js')\nconst geometries = require('./geometries/geometries.service.js')\nconst totals = require('./totals/totals.service.js')\nconst db = require('./db/db.service.js')\nconst extent = require('./extent/extent.service.js')\nconst styles = require('./styles/styles.service.js')\nconst layers = require('./layers/layers.service.js')\n// const layerstyles = require('./layerstyles/layerstyles.service.js')\nconst clients = require('./clients/clients.service.js')\n\nconst datasourcetypes = require('./datasourcetypes/datasourcetypes.service.js')\n\nconst tiles = require('./tiles/tiles.service.js')\n\nconst tools = require('./tools/tools.service.js')\n\nconst projectsTools = require('./projects-tools/projects-tools.service.js')\n\nconst logos = require('./logos/logos.service.js')\n\nconst codetables = require('./codetables/codetables.service.js')\n\nmodule.exports = function (app) {\n  app.configure(users)\n  app.configure(roles)\n  app.configure(email)\n  app.configure(companies)\n  app.configure(cvr)\n  app.configure(fonts)\n  app.configure(files)\n  app.configure(datasources)\n  app.configure(projects)\n  app.configure(geometries)\n  app.configure(totals)\n  app.configure(db)\n  app.configure(extent)\n  app.configure(styles)\n  app.configure(layers)\n  app.configure(clients)\n  app.configure(datasourcetypes)\n  app.configure(tiles)\n  app.configure(tools)\n  app.configure(projectsTools)\n  app.configure(logos)\n  app.configure(codetables)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/index.js","// Initializes the `users` service on path `/users`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/users.model')\nconst hooks = require('./users.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  // const paginate = app.get('paginate')\n\n  const options = {\n    name: 'users',\n    Model,\n    paginate: {\n      default: 100,\n      max: 1000\n    }\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/users', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('users')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/users/users.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const users = sequelizeClient.define('users', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      type: DataTypes.STRING\n    },\n    email: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      unique: true\n    },\n    password: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      defaultValue: DataTypes.UUIDV4\n    },\n    isEnabled: {\n      type: DataTypes.BOOLEAN,\n      defaultValue: true\n    },\n    isVerified: { type: DataTypes.BOOLEAN },\n    verifyToken: { type: DataTypes.STRING },\n    verifyShortToken: { type: DataTypes.STRING },\n    verifyExpires: { type: DataTypes.DATE }, // or a long integer\n    verifyChanges: { type: DataTypes.JSONB }, // an object (key-value map), e.g. { field: \"value\" }\n    resetToken: { type: DataTypes.STRING },\n    resetShortToken: { type: DataTypes.STRING },\n    resetExpires: { type: DataTypes.DATE } // or a long integer\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  users.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n    models.users.belongsTo(models.companies)\n    models.users.belongsTo(models.roles)\n  }\n\n  return users\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/users.model.js","const { authenticate } = require('@feathersjs/authentication').hooks\nconst commonHooks = require('feathers-hooks-common')\nconst { restrictToOwner } = require('feathers-authentication-hooks')\nconst { hashPassword } = require('@feathersjs/authentication-local').hooks\nconst verifyHooks = require('feathers-authentication-management').hooks\nconst restrict = [\n  authenticate('jwt'),\n  restrictToOwner({\n    idField: 'id',\n    ownerField: 'id'\n  })\n]\n\nconst sendVerificationEmail = require('../../hooks/send-verification-email')\n\nconst userBefore = require('../../hooks/user-before')\n\nconst userClientAfter = require('../../hooks/user-client-after')\n\nconst usersRestrict = require('../../hooks/users-restrict')\n\nmodule.exports = {\n  before: {\n    all: [],\n    find: [authenticate('jwt'), userBefore()],\n    get: [authenticate('jwt'), userBefore()],\n    create: [hashPassword(), verifyHooks.addVerification()],\n    update: [commonHooks.disallow('external')],\n    patch: [\n      ...restrict,\n      commonHooks.iff(commonHooks.isProvider('external'), commonHooks.preventChanges(\n        'email',\n        'isVerified',\n        'verifyToken',\n        'verifyShortToken',\n        'verifyExpires',\n        'verifyChanges',\n        'resetToken',\n        'resetShortToken',\n        'resetExpires'\n      ))\n    ],\n    remove: [authenticate('jwt'), usersRestrict()]\n  },\n\n  after: {\n    all: [\n      commonHooks.when(\n        hook => hook.params.provider,\n        commonHooks.discard('password', 'verifyExpires', 'resetExpires', 'verifyChanges')\n      )\n    ],\n    find: [],\n    get: [],\n    create: [\n      sendVerificationEmail(),\n      verifyHooks.removeVerification(),\n      userClientAfter()\n    ],\n    update: [userClientAfter()],\n    patch: [userClientAfter()],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/users/users.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\nconst accountService = require('../notifier')\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return function sendVerificationEmail (hook) {\n    const user = hook.result\n    if (hook.params.provider && user) {\n      accountService(hook.app).notifier('resendVerifySignup', user)\n      return Promise.resolve(hook)\n    }\n    // Hooks can either return nothing or a promise\n    // that resolves with the `hook` object for asynchronous operations\n    return Promise.resolve(hook)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/send-verification-email.js","module.exports = require(\"pug\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pug\"\n// module id = 36\n// module chunks = 0","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return (hook) => {\n    hook.params.sequelize = {\n      include: [ { model: hook.app.services.companies.Model }, { model: hook.app.services.roles.Model } ]\n    }\n    return Promise.resolve(hook)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/user-before.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return function userClientAfter (hook) {\n    return hook.app.service('/users').find({ query: { id: hook.result.id } }).then(result => {\n      hook.result = result.data[0]\n      return Promise.resolve(hook)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/user-client-after.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\nconst errors = require('@feathersjs/errors')\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return function usersRestrict (hook) {\n    if (!hook.params.user) {\n      throw new errors.NotAuthenticated()\n    }\n    if (hook.params.user.id === hook.id) {\n      throw new errors.NotAcceptable('Du må ikke slette dig selv')\n    }\n    if (hook.params.user.role === 'system') {\n      return Promise.resolve(hook)\n    }\n    return hook.app.service('/users').find({ query: { id: hook.id } }).then(result => {\n      if (result.data.length === 1) {\n        const user = result.data[0]\n        if (hook.params.user.role === 'admin' && hook.params.user.companyId === user.companyId) {\n          return Promise.resolve(hook)\n        }\n        throw new errors.Forbidden('Du har ikke rettigheder til denne handling')\n      }\n      throw new errors.NotFound()\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/users-restrict.js","module.exports = require(\"@feathersjs/errors\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@feathersjs/errors\"\n// module id = 40\n// module chunks = 0","// Initializes the `roles` service on path `/roles`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/roles.model')\nconst hooks = require('./roles.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'roles',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/roles', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('roles')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/roles/roles.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const roles = sequelizeClient.define('roles', {\n    name: {\n      type: DataTypes.STRING,\n      allowNull: false,\n      unique: true\n    }\n  },\n  {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  roles.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n  }\n\n  return roles\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/roles.model.js","const { authenticate } = require('@feathersjs/authentication').hooks\n\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/roles/roles.hooks.js","// Initializes the `email` service on path `/email`\nconst Mailer = require('feathers-mailer')\nconst hooks = require('./email.hooks')\nconst smtpTransport = require('nodemailer-smtp-transport')\n\nmodule.exports = function (app) {\n  // Initialize our service with any options it requires\n  app.use('/email', Mailer(smtpTransport(app.get('mail'))))\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('email')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/email/email.service.js","module.exports = require(\"feathers-mailer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-mailer\"\n// module id = 45\n// module chunks = 0","const { disallow } = require('feathers-hooks-common')\n\nmodule.exports = {\n  before: {\n    all: [disallow('external')],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/email/email.hooks.js","module.exports = require(\"nodemailer-smtp-transport\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nodemailer-smtp-transport\"\n// module id = 47\n// module chunks = 0","// Initializes the `company` service on path `/company`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/companies.model')\nconst hooks = require('./companies.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'companies',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/companies', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('companies')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/companies/companies.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const companies = sequelizeClient.define('companies', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    cvr: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  companies.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n  }\n\n  return companies\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/companies.model.js","const { authenticate } = require('@feathersjs/authentication').hooks\n\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/companies/companies.hooks.js","// Initializes the `cvr` service on path `/cvr`\nconst createService = require('feathers-elasticsearch')\nconst createModel = require('../../models/cvr.model')\nconst hooks = require('./cvr.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n  const elasticsearch = {\n    index: 'cvr-permanent',\n    type: 'virksomhed'\n  }\n  const options = {\n    id: 'id',\n    Model,\n    elasticsearch,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/cvr', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('cvr')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/cvr/cvr.service.js","module.exports = require(\"feathers-elasticsearch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-elasticsearch\"\n// module id = 52\n// module chunks = 0","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst elasticsearch = require('elasticsearch')\n\nmodule.exports = function (app) {\n  return new elasticsearch.Client({\n    host: 'http://LE34_CVR_I_SKYEN:33614fd2-976e-4e1a-af11-acaa0e1ec994@distribution.virk.dk',\n    apiVersion: '1.7'\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/cvr.model.js","module.exports = require(\"elasticsearch\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"elasticsearch\"\n// module id = 54\n// module chunks = 0","const { authenticate } = require('@feathersjs/authentication').hooks\n\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/cvr/cvr.hooks.js","// Initializes the `fonts` service on path `/fonts`\nconst createService = require('./fonts.class.js')\nconst hooks = require('./fonts.hooks')\n\nmodule.exports = function (app) {\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'fonts',\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/fonts', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('fonts')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/fonts/fonts.service.js","/* eslint-disable no-unused-vars */\nclass Service {\n  constructor (options) {\n    this.options = options || {}\n  }\n\n  find (params) {\n    return Promise.resolve([])\n  }\n\n  get (id, params) {\n    return Promise.resolve({\n      id, text: `A new message with ID: ${id}!`\n    })\n  }\n\n  create (data, params) {\n    if (Array.isArray(data)) {\n      return Promise.all(data.map(current => this.create(current)))\n    }\n\n    return Promise.resolve(data)\n  }\n\n  update (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  patch (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  remove (id, params) {\n    return Promise.resolve({ id })\n  }\n}\n\nmodule.exports = function (options) {\n  return new Service(options)\n}\n\nmodule.exports.Service = Service\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/fonts/fonts.class.js","const { authenticate } = require('@feathersjs/authentication').hooks\n\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/fonts/fonts.hooks.js","// Initializes the `files` service on path `/files`\nconst createService = require('./files.class.js')\nconst hooks = require('./files.hooks')\n/*\nconst blobService = require('feathers-blob')\nconst fs = require('fs-blob-store')\nconst path = require('path')\nconst filePath = process.env.MBTILES || path.join(__dirname, '../../../../../survey/mbtiles')\nconst blobStorage = fs(filePath)\n*/\nconst multer = require('multer')\nvar storage = multer.diskStorage({\n  destination: function (req, file, cb) {\n    cb(null, process.env.MBTILES)\n  },\n  filename: function (req, file, cb) {\n    cb(null, req.body.id + '.mbtiles')\n  }\n})\nconst multipartMiddleware = multer({storage})\nmodule.exports = function (app) {\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'files',\n    paginate\n  }\n  // app.use('/files', blobService({Model: blobStorage}))\n  app.use('/files', multipartMiddleware.single('mbtile'), createService(options))\n  // Initialize our service with any options it requires\n  // app.use('/files', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('files')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/files/files.service.js","const fs = require('fs')\nconst path = require('path')\nconst filePath = process.env.MBTILES\n\nclass Service {\n  constructor (options) {\n    this.options = options || {}\n  }\n\n  find (params) {\n    return new Promise((resolve, reject) => {\n      fs.readdir(filePath, (err, files) => {\n        if (err) {\n          return reject(err)\n        }\n        const result = files.filter(file => {\n          return path.extname(file) === '.mbtiles'\n        }).map(file => {\n          return { id: path.basename(file, path.extname(file)) }\n        })\n        resolve(result)\n      })\n    })\n  }\n\n  get (id, params) {\n    console.log(params)\n    return new Promise((resolve, reject) => {\n      fs.readFile(path.join(filePath, id + '.mbtiles'), (err, data) => {\n        if (err) {\n          return reject(err)\n        }\n        resolve(data)\n      })\n    })\n  }\n\n  create (data, params) {\n    console.log('create', data, params)\n    /*\n    if (params.file && data.id) {\n      return new Promise((resolve, reject) => {\n        fs.writeFile(path.join(filePath, data.id + '.mbtiles'), params.file.buffer, err => {\n          if (err) {\n            console.log('file error', err)\n            return reject(err)\n          }\n          return resolve(data)\n        })\n      })\n    }\n    */\n    return Promise.resolve(data)\n  }\n\n  update (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  patch (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  remove (id, params) {\n    return Promise.resolve({ id })\n  }\n}\n\nmodule.exports = function (options) {\n  return new Service(options)\n}\n\nmodule.exports.Service = Service\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/files/files.class.js","// const { authenticate } = require('feathers-authentication').hooks\n\nmodule.exports = {\n  before: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/files/files.hooks.js","module.exports = require(\"multer\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"multer\"\n// module id = 62\n// module chunks = 0","// Initializes the `data` service on path `/data`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/datasources.model')\nconst hooks = require('./datasources.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'datasources',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/datasources', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('datasources')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/datasources/datasources.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const datasources = sequelizeClient.define('datasources', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    data: {\n      type: DataTypes.JSONB,\n      allowNull: true\n    },\n    progress: {\n      type: DataTypes.FLOAT,\n      allowNull: false,\n      defaultValue: 0\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  datasources.associate = function (models) { // eslint-disable-line no-unused-vars\n    models.datasources.belongsTo(models.projects, { onDelete: 'CASCADE' }) // generates projectId\n    models.datasources.belongsTo(models.companies, { onDelete: 'CASCADE' }) // generates companyId\n    models.datasources.belongsTo(models.users) // generates userId\n    models.datasources.belongsTo(models.datasourcetypes) // generates datasourcetypeId\n  }\n\n  return datasources\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/datasources.model.js","const { authenticate } = require('@feathersjs/authentication').hooks\n// const { discard } = require('feathers-hooks-common')\nconst tile = require('../../hooks/tile')\nconst removeMbtile = require('../../hooks/remove-mbtile')\nconst datasourcesBefore = require('../../hooks/datasources-before')\n// const noReturning = require('../../hooks/no-returning')\nconst getAfter = require('../../hooks/get-after')\n// const createGeometries = require('../../hooks/create-geometries')\nconst { associateCurrentUser } = require('feathers-authentication-hooks')\nconst datasourcesBeforeRemove = require('../../hooks/datasources-before-remove')\nmodule.exports = {\n  before: {\n    all: [ ],\n    find: [datasourcesBefore()],\n    get: [datasourcesBefore()],\n    create: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })],\n    update: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })],\n    patch: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })], //, noReturning()],\n    remove: [authenticate('jwt'), datasourcesBeforeRemove()]\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [tile(), getAfter()],\n    update: [tile(), getAfter()],\n    patch: [getAfter()],\n    remove: [removeMbtile()]\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/datasources/datasources.hooks.js","// Use this context to manipulate incoming or outgoing data.\n// For more information on contexts see: http://docs.feathersjs.com/api/contexts.html\nconst fs = require('fs')\nconst path = require('path')\nconst Tiler = require('../tiler.js')\nconst v4 = require('uuid/v4')\n// const util = require('util')\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    Promise.resolve().then(() => {\n      if (context.data.geojson) {\n        return context.data.geojson\n      } else if (context.data.data && context.data.data.tile) {\n        return context.app.service('db').get(context.result.id)\n      }\n    }).then(geojson => {\n      if (geojson) {\n        const geometryService = context.app.service('geometries')\n        console.log('geojson')\n        return new Promise((resolve, reject) => {\n          fs.unlink(path.join(process.env.MBTILES, context.result.id + '.mbtiles'), err => {\n            if (err) {\n              console.log('remove-mbtile', err)\n            }\n            resolve()\n          })\n        }).then(() => {\n          context.data.geojson = geojson\n          const tiler = new Tiler(context.result.id, context.data, context.service)\n          return tiler.create()\n        }).then(() => {\n          return geometryService.remove(null, {\n            query: {\n              datasourceId: context.result.id\n            }\n          })\n        }).then(() => {\n          let data = []\n          context.data.geojson.features.forEach(feature => {\n            const geometry = Object.assign({}, feature.geometry)\n            geometry.crs = { type: 'name', properties: { name: 'EPSG:4326' } }\n            data.push({datasourceId: context.result.id, properties: feature.properties, geom: geometry})\n          })\n          return geometryService.create(data)\n        })\n      }\n    }).then(() => {\n      return context.service.patch(context.result.id, { progress: 100 })\n    }).then(() => {\n      if (context.method === 'create') {\n        Promise.resolve().then(() => {\n          let style = {\n            name: context.data.name,\n            projectId: context.data.projectId,\n            dark: {\n              version: 8,\n              sources: {\n              },\n              layers: [{\n                id: 'background',\n                type: 'background',\n                paint: {\n                  'background-color': '#000000'\n                }\n              }]\n            },\n            light: {\n              version: 8,\n              sources: {\n              },\n              layers: [{\n                id: 'background',\n                type: 'background',\n                paint: {\n                  'background-color': '#ffffff'\n                }\n              }]\n            }\n          }\n          if (context.result.datasourcetypeId < 3) {\n            let codeTables = {}\n            return context.app.service('tiles').get(context.result.id).then(tileJson => {\n              if (tileJson.format === 'pbf') {\n                let sources = {\n                  [context.result.id]: {\n                    type: 'vector',\n                    tiles: tileJson.tiles,\n                    minzoom: tileJson.minzoom,\n                    maxzoom: tileJson.maxzoom,\n                    bounds: tileJson.bounds\n                  }\n                }\n                style.light.sources = sources\n                style.dark.sources = sources\n                const promises = []\n                tileJson.vector_layers.forEach(data => {\n                  if (data.id) {\n                    const layerid = data.id.split('#')\n                    if (layerid.length > 1) {\n                      const kode = layerid[0]\n                      if (!codeTables.hasOwnProperty(kode)) {\n                        promises.push(context.app.service('codetables').get(kode))\n                        codeTables[kode] = {}\n                      }\n                    }\n                  }\n                })\n                return Promise.all(promises).then(items => {\n                  items.forEach(item => {\n                    codeTables[item.id] = item.layers\n                  })\n                  tileJson.vector_layers.forEach(data => {\n                    const layerid = data.id.split('#')\n                    if (layerid.length > 1) {\n                      const kode = layerid[0]\n                      const name = data.id.substr(kode.length + 1)\n                      const kodetabel = codeTables[kode]\n                      if (kodetabel.hasOwnProperty(name)) {\n                        let id = v4()\n                        let layerlight = JSON.parse(\n                          JSON.stringify(kodetabel[name])\n                        )\n                        let layerdark = JSON.parse(\n                          JSON.stringify(kodetabel[name])\n                        )\n                        layerlight.id = id\n                        layerdark.id = id\n                        layerlight.metadata = { name: layerlight.name || name }\n                        layerdark.metadata = { name: layerdark.name || name }\n                        layerlight.source = context.result.id\n                        layerdark.source = context.result.id\n                        layerlight['source-layer'] = data.id\n                        layerdark['source-layer'] = data.id\n                        delete layerlight.name\n                        delete layerdark.name\n                        delete layerlight.category\n                        delete layerdark.category\n                        if (layerlight.paint.hasOwnProperty('line-color') && layerlight.paint['line-color'] === '#ffffff') {\n                          layerlight.paint['line-color'] = '#000000'\n                        } else if (layerlight.paint.hasOwnProperty('circle-color') && layerlight.paint['circle-color'] === '#ffffff') {\n                          layerlight.paint['circle-color'] = '#000000'\n                        }\n                        style.light.layers.push(layerlight)\n                        if (layerdark.paint.hasOwnProperty('line-color') && layerdark.paint['line-color'] === '#000000') {\n                          layerdark.paint['line-color'] = '#ffffff'\n                        } else if (layerdark.paint.hasOwnProperty('circle-color') && layerdark.paint['circle-color'] === '#000000') {\n                          layerdark.paint['circle-color'] = '#ffffff'\n                        }\n                        style.dark.layers.push(layerdark)\n                      }\n                    } else {\n                      const layerCircle = {\n                        id: v4(),\n                        metadata: { name: data.id },\n                        source: context.result.id,\n                        'source-layer': data.id,\n                        type: 'circle',\n                        paint: { 'circle-color': '#FF0000' }\n                      }\n                      const layerLine = {\n                        id: v4(),\n                        metadata: { name: data.id },\n                        source: context.result.id,\n                        'source-layer': data.id,\n                        type: 'line',\n                        paint: { 'line-color': '#FF0000' }\n                      }\n                      style.light.layers.push(layerCircle)\n                      style.light.layers.push(layerLine)\n                      style.dark.layers.push(layerCircle)\n                      style.dark.layers.push(layerLine)\n                    }\n                  })\n                  return style\n                })\n              } else {\n                const sources = {\n                  [context.result.id]: {\n                    type: 'raster',\n                    tiles: tileJson.tiles,\n                    minzoom: tileJson.minzoom,\n                    maxzoom: tileJson.maxzoom,\n                    bounds: tileJson.bounds,\n                    tileSize: 256\n                  }\n                }\n                const layer = {\n                  id: v4(),\n                  type: 'raster',\n                  source: context.result.id,\n                  metadata: context.result.name\n                }\n                style.light.sources = sources\n                style.dark.sources = sources\n                style.light.layers.push(layer)\n                style.dark.layers.push(layer)\n                return style\n              }\n            })\n          } else {\n            const sources = {\n              [context.result.id]: {\n                type: 'geojson',\n                data: `${process.env.FEATHERS}/db/${context.result.id}`\n              }\n            }\n            const layerCircle = {\n              id: v4(),\n              source: context.result.id,\n              type: 'circle',\n              paint: { 'circle-color': '#FF0000' }\n            }\n            const layerLine = {\n              id: v4(),\n              source: context.result.id,\n              type: 'line',\n              paint: { 'line-color': '#FF0000' }\n            }\n            style.light.sources = sources\n            style.dark.sources = sources\n            style.light.layers.push(layerCircle)\n            style.light.layers.push(layerLine)\n            style.dark.layers.push(layerCircle)\n            style.dark.layers.push(layerLine)\n            return style\n          }\n        }).then(style => {\n          // console.log(util.inspect(style, {depth: null, colors: true}))\n          style.datasourceId = context.result.id\n          return context.app.service('styles').create(style, context.params)\n        }).then(style => {\n          context.app.service('layers').create({\n            projectId: context.result.projectId,\n            styleId: style.id,\n            name: style.name\n          }, context.params)\n        })\n      }\n    })\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/tile.js","module.exports = require(\"geojson-vt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"geojson-vt\"\n// module id = 67\n// module chunks = 0","module.exports = require(\"vt-pbf\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"vt-pbf\"\n// module id = 68\n// module chunks = 0","module.exports = require(\"@turf/bbox\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@turf/bbox\"\n// module id = 69\n// module chunks = 0","module.exports = require(\"@turf/center-of-mass\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@turf/center-of-mass\"\n// module id = 70\n// module chunks = 0","module.exports = require(\"uuid/v4\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"uuid/v4\"\n// module id = 71\n// module chunks = 0","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\nconst fs = require('fs')\nconst path = require('path')\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    // Hooks can either return nothing or a promise\n    // that resolves with the `hook` object for asynchronous operations\n    fs.unlink(path.join(process.env.MBTILES, context.id + '.mbtiles'), err => {\n      if (err) {\n        console.log('remove-mbtile', err)\n      }\n    })\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/remove-mbtile.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    context.params.sequelize = {\n      include: [\n        { model: context.app.services.companies.Model, attributes: ['name'] },\n        { model: context.app.services.projects.Model, attributes: ['name'] },\n        { model: context.app.services.datasourcetypes.Model, attributes: ['name'] },\n        { model: context.app.services.users.Model, attributes: ['email'] }\n      ]\n    }\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/datasources-before.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return async context => {\n    await context.app.service('styles').remove(null, {\n      query: {\n        datasourceId: context.id\n      }\n    })\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/datasources-before-remove.js","// Initializes the `projects` service on path `/projects`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/projects.model')\nconst hooks = require('./projects.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'projects',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/projects', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('projects')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/projects/projects.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const projects = sequelizeClient.define('projects', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    public: {\n      type: DataTypes.BOOLEAN,\n      defaultValue: false\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  projects.associate = function (models) { // eslint-disable-line no-unused-vars\n    models.projects.belongsTo(models.companies, { onDelete: 'CASCADE' }) // generates companyId\n    models.projects.belongsTo(models.users) // generates userId\n  }\n\n  return projects\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/projects.model.js","const { authenticate } = require('@feathersjs/authentication').hooks\nconst { associateCurrentUser } = require('feathers-authentication-hooks')\nconst projectsBefore = require('../../hooks/projects-before')\nconst getAfter = require('../../hooks/get-after')\nmodule.exports = {\n  before: {\n    all: [ ],\n    find: [projectsBefore()],\n    get: [projectsBefore()],\n    create: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })],\n    update: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })],\n    patch: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })],\n    remove: [authenticate('jwt')]\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [getAfter()],\n    update: [getAfter()],\n    patch: [getAfter()],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/projects/projects.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    context.params.sequelize = {\n      include: [\n        { model: context.app.services.users.Model, attributes: ['email'] },\n        { model: context.app.services.companies.Model, attributes: ['name'] }\n      ]\n    }\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/projects-before.js","// Initializes the `geometries` service on path `/geometries`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/geometries.model')\nconst hooks = require('./geometries.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'geometries',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/geometries', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('geometries')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/geometries/geometries.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const geometries = sequelizeClient.define('geometries', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    properties: {\n      type: DataTypes.JSONB,\n      allowNull: true\n    },\n    geom: {\n      type: DataTypes.GEOMETRY,\n      allowNull: false\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  geometries.associate = function (models) { // eslint-disable-line no-unused-vars\n    models.geometries.belongsTo(models.datasources, { onDelete: 'CASCADE' }) // generates datasourceId\n  }\n\n  return geometries\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/geometries.model.js","\nconst geometriesBeforeFind = require('../../hooks/geometries-before-find')\nmodule.exports = {\n  before: {\n    all: [],\n    find: [geometriesBeforeFind()],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/geometries/geometries.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\nconst Sequelize = require('sequelize')\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return (hook) => {\n    hook.params.$pagination = false\n    hook.params.sequelize = {\n      attributes: [\n        [Sequelize.fn('SUM', Sequelize.cast(Sequelize.json('properties.HalvPerimeter'), 'float')), 'length'],\n        [Sequelize.json('properties.feature'), 'feature']\n      ],\n      group: ['feature']\n    }\n    return hook\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/geometries-before-find.js","// Initializes the `totals` service on path `/totals`\nconst createService = require('./totals.class.js')\nconst hooks = require('./totals.hooks')\n\nmodule.exports = function (app) {\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'totals',\n    connectionString: app.get('postgres'),\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/totals', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('totals')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/totals/totals.service.js","/* eslint-disable no-unused-vars */\nconst { Pool } = require('pg')\n\nclass Service {\n  constructor (options) {\n    this.options = options || {}\n    this.pool = new Pool({\n      connectionString: options.connectionString\n    })\n  }\n\n  find (params) {\n    return new Promise((resolve, reject) => {\n      let sql = `\n      select a.id, count(*)::integer as antal, a.st_geometrytype, sum(a.st_length) as st_length, sum(a.st_area) as st_area, sum(a.st_perimeter) as st_perimeter from (\n        select\n          COALESCE(properties->>'feature', \"datasourceId\"::text) as id, \n          st_geometrytype(geom) as st_geometrytype, \n          st_length(st_transform(geom, 25832)) as st_length, \n          st_area(st_transform(geom, 25832)) as st_area, \n          st_perimeter(st_transform(geom, 25832)) as st_perimeter\n        from geometries\n      `\n      if (params.query) {\n        if (params.query.datasourceId) {\n          sql += 'where \"datasourceId\"=\\'' + params.query.datasourceId + '\\''\n        } else if (params.query.projectId) {\n          sql += 'inner join data on geometries.\"datasourceId\" = data.id where data.\"projectId\" = \\'' + params.query.projectId + '\\''\n        }\n      }\n      if (params.query.geojson && params.query.geojson.features.length > 0) {\n        sql += ' and '\n        params.query.geojson.features.forEach(feature => {\n          sql += 'ST_Contains(ST_SetSRID(ST_GeomFromGeoJSON(\\'' + JSON.stringify(feature.geometry) + '\\'),4326), geom) or '\n        })\n        sql = sql.substring(0, sql.length - 3)\n      }\n\n      sql += `) as a\n      group by a.id, a.st_geometrytype`\n      console.log(sql)\n      this.pool.query(sql, (err, res) => {\n        if (err) {\n          return reject(err)\n        }\n        resolve(res.rows)\n      })\n    })\n  }\n\n  get (id, params) {\n    return Promise.resolve({\n      id, text: `A new message with ID: ${id}!`\n    })\n  }\n\n  create (data, params) {\n    if (Array.isArray(data)) {\n      return Promise.all(data.map(current => this.create(current)))\n    }\n\n    return Promise.resolve(data)\n  }\n\n  update (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  patch (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  remove (id, params) {\n    return Promise.resolve({ id })\n  }\n}\n\nmodule.exports = function (options) {\n  return new Service(options)\n}\n\nmodule.exports.Service = Service\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/totals/totals.class.js","module.exports = require(\"pg\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"pg\"\n// module id = 85\n// module chunks = 0","\nconst totalsBefore = require('../../hooks/totals-before')\nmodule.exports = {\n  before: {\n    all: [],\n    find: [totalsBefore()],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/totals/totals.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return async context => {\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/totals-before.js","// Initializes the `db` service on path `/db`\nconst createService = require('./db.class.js')\nconst hooks = require('./db.hooks')\n\nmodule.exports = function (app) {\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'db',\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/db', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('db')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/db/db.service.js","/* eslint-disable no-unused-vars */\n// const { Pool } = require('pg')\nconst Sequelize = require('sequelize')\nconst parse = require('wellknown')\nconst reproj = require('reproject')\nvar epsg = require('epsg')\nclass Service {\n  constructor (options) {\n    this.options = options || {}\n  }\n\n  find (params) {\n    return Promise.resolve([])\n  }\n\n  get (id, params) {\n    // return new Promise((resolve, reject) => {\n    // const pool = new Pool({\n    //  connectionString: params.data.meta.connectionString\n    // })\n    const mssql = params.data.meta.connectionString.indexOf('mssql') === 0\n    const sequelize = new Sequelize(params.data.meta.connectionString)\n    let sql = `select *, st_asgeojson(st_transform(${params.data.meta.geometryColumn},4326),10) from ${params.data.meta.dbTable}`\n    if (mssql) {\n      sql = `select *, ${params.data.meta.geometryColumn}.STAsText() as wkt, geom.STSrid as srid from ${params.data.meta.dbTable}`\n    }\n    return sequelize.query(sql, { type: sequelize.QueryTypes.SELECT }).then(res => {\n      if (mssql) {\n        return {\n          id: id,\n          type: 'FeatureCollection',\n          features: res.map(item => {\n            const properties = Object.assign({}, item)\n            delete properties[params.data.meta.geometryColumn]\n            delete properties.wkt\n            delete properties.srid\n            const geojson = parse(item.wkt)\n            return {\n              type: 'Feature',\n              properties,\n              geometry: reproj.toWgs84(geojson, `EPSG:${item.srid}`, epsg)\n            }\n          })\n        }\n      }\n      return {\n        id: id,\n        type: 'FeatureCollection',\n        features: res.map(item => {\n          const properties = Object.assign({}, item)\n          delete properties[params.data.meta.geometryColumn]\n          delete properties.st_asgeojson\n          return {\n            type: 'Feature',\n            properties,\n            geometry: JSON.parse(item.st_asgeojson)\n          }\n        })\n      }\n    }).catch(err => {\n      console.log(err)\n    })\n    /*\n    pool.query(sql, (err, res) => {\n      if (err) {\n        return reject(err)\n      }\n\n      const geojson = {\n        id: id,\n        type: 'FeatureCollection',\n        features: res.rows.map(item => {\n          const properties = Object.assign({}, item)\n          delete properties[params.data.meta.geometryColumn]\n          delete properties.st_asgeojson\n          return {\n            type: 'Feature',\n            properties,\n            geometry: JSON.parse(item.st_asgeojson)\n          }\n        })\n      }\n      resolve(geojson)\n    })\n    */\n    // })\n  }\n\n  create (data, params) {\n    if (Array.isArray(data)) {\n      return Promise.all(data.map(current => this.create(current)))\n    }\n\n    return Promise.resolve(data)\n  }\n\n  update (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  patch (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  remove (id, params) {\n    return Promise.resolve({ id })\n  }\n}\n\nmodule.exports = function (options) {\n  return new Service(options)\n}\n\nmodule.exports.Service = Service\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/db/db.class.js","\nconst dbBefore = require('../../hooks/db-before')\nmodule.exports = {\n  before: {\n    all: [],\n    find: [],\n    get: [dbBefore()],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/db/db.hooks.js","// Initializes the `extent` service on path `/extent`\nconst createService = require('./extent.class.js')\nconst hooks = require('./extent.hooks')\n\nmodule.exports = function (app) {\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'extent',\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/extent', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('extent')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/extent/extent.service.js","/* eslint-disable no-unused-vars */\n// const { Pool } = require('pg')\nconst Sequelize = require('sequelize')\nconst parse = require('wellknown')\nconst reproj = require('reproject')\nvar epsg = require('epsg')\n\nclass Service {\n  constructor (options) {\n    this.options = options || {}\n  }\n\n  find (params) {\n    return Promise.resolve([])\n  }\n\n  get (id, params) {\n    const mssql = params.data.data.connectionString.indexOf('mssql') === 0\n    const sequelize = new Sequelize(params.data.data.connectionString)\n    let sql = `select st_asgeojson(st_extent(st_transform(${params.data.meta.geometryColumn},4326)),10) from ${params.data.data.dbTable}`\n    if (mssql) {\n      sql = `select a.geom.STAsText() as wkt, a.geom.STSrid as srid from (select GEOMETRY::EnvelopeAggregate(${params.data.data.geometryColumn}) as geom from ${params.data.data.dbTable}) as a`\n    }\n    return sequelize.query(sql, { type: sequelize.QueryTypes.SELECT }).then(res => {\n      if (res.length > 0) {\n        const item = res[0]\n        if (mssql) {\n          const geojson = parse(item.wkt)\n          return {\n            id: id,\n            type: 'Feature',\n            properties: {},\n            geometry: reproj.toWgs84(geojson, `EPSG:${item.srid}`, epsg)\n          }\n        }\n        return {\n          id: id,\n          type: 'Feature',\n          properties: {},\n          geometry: JSON.parse(item.st_asgeojson)\n        }\n      }\n    })\n  }\n\n  create (data, params) {\n    if (Array.isArray(data)) {\n      return Promise.all(data.map(current => this.create(current)))\n    }\n\n    return Promise.resolve(data)\n  }\n\n  update (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  patch (id, data, params) {\n    return Promise.resolve(data)\n  }\n\n  remove (id, params) {\n    return Promise.resolve({ id })\n  }\n}\n\nmodule.exports = function (options) {\n  return new Service(options)\n}\n\nmodule.exports.Service = Service\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/extent/extent.class.js","\nconst dbBefore = require('../../hooks/db-before')\nmodule.exports = {\n  before: {\n    all: [],\n    find: [],\n    get: [dbBefore()],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/extent/extent.hooks.js","// Initializes the `styles` service on path `/styles`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/styles.model')\nconst hooks = require('./styles.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'styles',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/styles', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('styles')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/styles/styles.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const styles = sequelizeClient.define('styles', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    light: {\n      type: DataTypes.JSONB,\n      allowNull: true\n    },\n    dark: {\n      type: DataTypes.JSONB,\n      allowNull: true\n    }\n\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  styles.associate = function (models) { // eslint-disable-line no-unused-vars\n    models.styles.belongsTo(models.projects, { onDelete: 'CASCADE' }) // generates projectId\n    models.styles.belongsTo(models.datasources, { onDelete: 'CASCADE' }) // generates datasourceId\n    models.styles.belongsTo(models.users) // generates userId\n  }\n\n  return styles\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/styles.model.js","const { authenticate } = require('@feathersjs/authentication').hooks\nconst { associateCurrentUser } = require('feathers-authentication-hooks')\nconst stylesBefore = require('../../hooks/styles-before')\nconst getAfter = require('../../hooks/get-after')\nconst stylesBeforeRemove = require('../../hooks/styles-before-remove')\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [stylesBefore()],\n    get: [stylesBefore()],\n    create: [associateCurrentUser({ idField: 'id' })],\n    update: [associateCurrentUser({ idField: 'id' })],\n    patch: [associateCurrentUser({ idField: 'id' })],\n    remove: [stylesBeforeRemove()]\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [getAfter()],\n    update: [getAfter()],\n    patch: [getAfter()],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/styles/styles.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    context.params.sequelize = {\n      include: [\n        { model: context.app.services.users.Model, attributes: ['email'] },\n        { model: context.app.services.projects.Model },\n        { model: context.app.services.datasources.Model }\n      ]\n    }\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/styles-before.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return async context => {\n    await context.app.service('layers').remove(null, {\n      query: {\n        styleId: context.id\n      }\n    })\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/styles-before-remove.js","// Initializes the `layers` service on path `/layers`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/layers.model')\nconst hooks = require('./layers.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'layers',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/layers', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('layers')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/layers/layers.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const layers = sequelizeClient.define('layers', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    priority: {\n      type: DataTypes.INTEGER,\n      allowNull: true\n    },\n    active: {\n      type: DataTypes.BOOLEAN,\n      allowNull: false,\n      defaultValue: true\n    },\n    isDark: {\n      type: DataTypes.BOOLEAN,\n      allowNull: true\n    },\n    isBasemap: {\n      type: DataTypes.BOOLEAN,\n      allowNull: false,\n      defaultValue: false\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  layers.associate = function (models) { // eslint-disable-line no-unused-vars\n    models.layers.belongsTo(models.projects, { onDelete: 'CASCADE' }) // generates projectId\n    models.layers.belongsTo(models.styles, { onDelete: 'CASCADE' }) // generates styleId\n    models.layers.belongsTo(models.users) // generates userId\n  }\n\n  return layers\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/layers.model.js","const { authenticate } = require('@feathersjs/authentication').hooks\nconst layersBefore = require('../../hooks/layers-before')\nconst getAfter = require('../../hooks/get-after')\nconst { associateCurrentUser } = require('feathers-authentication-hooks')\nmodule.exports = {\n  before: {\n    all: [],\n    find: [layersBefore()],\n    get: [layersBefore()],\n    create: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })],\n    update: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })],\n    patch: [authenticate('jwt'), associateCurrentUser({ idField: 'id' })],\n    remove: [authenticate('jwt')]\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [getAfter()],\n    update: [getAfter()],\n    patch: [getAfter()],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/layers/layers.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    context.params.sequelize = {\n      include: [\n        { model: context.app.services.styles.Model, attributes: ['name'] },\n        { model: context.app.services.projects.Model, attributes: ['name'] },\n        { model: context.app.services.users.Model, attributes: ['email'] }\n      ]\n    }\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/layers-before.js","// Initializes the `clients` service on path `/clients`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/clients.model')\nconst hooks = require('./clients.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'clients',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/clients', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('clients')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/clients/clients.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const clients = sequelizeClient.define('clients', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  clients.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n    models.clients.belongsTo(models.projects, { onDelete: 'CASCADE' }) // generates projectId\n    models.clients.belongsTo(models.companies, { onDelete: 'CASCADE' }) // generates companyId\n    models.clients.belongsTo(models.users) // generates userId\n  }\n\n  return clients\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/clients.model.js","\nconst clientsBefore = require('../../hooks/clients-before')\nconst getAfter = require('../../hooks/get-after')\nconst { associateCurrentUser } = require('feathers-authentication-hooks')\nmodule.exports = {\n  before: {\n    all: [],\n    find: [clientsBefore()],\n    get: [clientsBefore()],\n    create: [associateCurrentUser({ idField: 'id' })],\n    update: [associateCurrentUser({ idField: 'id' })],\n    patch: [associateCurrentUser({ idField: 'id' })],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [getAfter()],\n    update: [getAfter()],\n    patch: [getAfter()],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/clients/clients.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    context.params.sequelize = {\n      include: [\n        { model: context.app.services.users.Model, attributes: ['email'] },\n        { model: context.app.services.companies.Model, attributes: ['name'] }\n      ]\n    }\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/clients-before.js","// Initializes the `datasourcetypes` service on path `/datasourcetypes`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/datasourcetypes.model')\nconst hooks = require('./datasourcetypes.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'datasourcetypes',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/datasourcetypes', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('datasourcetypes')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/datasourcetypes/datasourcetypes.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const datasourcetypes = sequelizeClient.define('datasourcetypes', {\n    name: {\n      type: DataTypes.STRING,\n      allowNull: false\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  datasourcetypes.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n  }\n\n  return datasourcetypes\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/datasourcetypes.model.js","\nmodule.exports = {\n  before: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/datasourcetypes/datasourcetypes.hooks.js","// Initializes the `tiles` service on path `/tiles`\nconst zlib = require('zlib')\nconst createService = require('./tiles.class.js')\nconst hooks = require('./tiles.hooks')\nconst sharp = require('sharp')\nlet empty = null\nsharp({\n  create: {\n    width: 256,\n    height: 256,\n    channels: 4,\n    background: { r: 0, g: 0, b: 0, alpha: 0 }\n  }\n}).png().toBuffer().then(buffer => {\n  empty = buffer\n})\nmodule.exports = function (app) {\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'tiles',\n    paginate\n  }\n  // Initialize our service with any options it requires\n  app.use('/tiles', createService(options), (req, res, next) => {\n    if (res.hook.params.query.hasOwnProperty('format')) {\n      if (res.hook.params.query.format === 'png') {\n        res.set('Content-Type', 'image/png')\n        if (res.data) {\n          res.send(res.data)\n        } else {\n          console.log('empty')\n          res.send(empty)\n        }\n      } else {\n        res.set('Content-Encoding', 'gzip')\n        res.set('Content-Type', 'application/x-protobuf')\n        const isGzipped = res.data.slice(0, 2).indexOf(Buffer.from([0x1f, 0x8b])) === 0\n        if (isGzipped) {\n          return res.send(res.data)\n        }\n        zlib.gzip(res.data, (err, result) => {\n          if (err) {\n            return res.status(500).json(err)\n          }\n          res.send(result)\n        })\n      }\n    } else {\n      next()\n    }\n  })\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('tiles')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/tiles/tiles.service.js","/* eslint-disable no-unused-vars */\nconst fs = require('fs')\nconst path = require('path')\nvar MBTiles = require('@mapbox/mbtiles')\n\nconst port = process.env.PORT || 3030\nconst filePath = process.env.MBTILES\nconst urlPrefix = process.env.URL_PREFIX || 'http://localhost:' + port\nclass Service {\n  constructor (options) {\n    this.options = options || {}\n  }\n\n  async find (params) {\n    return []\n  }\n\n  async get (id, params) {\n    const mbtilesFile = path.join(filePath, id + '.mbtiles')\n    if (params.query && params.query.hasOwnProperty('format')) {\n      try {\n        const z = params.query.z | 0\n        const x = params.query.x | 0\n        const y = params.query.y | 0\n        const format = params.query.format\n        const data = await new Promise((resolve, reject) => {\n          const source = new MBTiles(mbtilesFile, function (err) {\n            if (err) {\n              reject(err)\n            } else {\n              source.getTile(z, x, y, function (err, data, headers) {\n                if (err) {\n                  reject(err)\n                } else {\n                  resolve(data)\n                }\n              })\n            }\n          })\n        })\n        return data\n      } catch (err) {\n        console.log(err)\n      }\n    } else {\n      console.log('info')\n      const data = await new Promise((resolve, reject) => {\n        fs.stat(mbtilesFile, (err, stats) => {\n          if (err || !stats.isFile() || stats.size === 0) {\n            return reject(err)\n          }\n          const instance = new MBTiles(mbtilesFile, function (err) {\n            if (err) {\n              return reject(err)\n            }\n            instance.getInfo(function (err, info) {\n              if (err || !info) {\n                return reject(err)\n              }\n              info.tiles = ['le34://tiles/' + id + '?z={z}&x={x}&y={y}&format=' + info.format]\n              resolve(info)\n            })\n          })\n        })\n      })\n      return data\n    }\n  }\n\n  async create (data, params) {\n    return data\n  }\n\n  async update (id, data, params) {\n    return data\n  }\n\n  async patch (id, data, params) {\n    return data\n  }\n\n  async remove (id, params) {\n    return { id }\n  }\n}\n\nmodule.exports = function (options) {\n  return new Service(options)\n}\n\nmodule.exports.Service = Service\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/tiles/tiles.class.js","\nconst { authenticate } = require('@feathersjs/authentication').hooks\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/tiles/tiles.hooks.js","module.exports = require(\"sharp\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sharp\"\n// module id = 113\n// module chunks = 0","// Initializes the `tools` service on path `/tools`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/tools.model')\nconst hooks = require('./tools.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'tools',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/tools', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('tools')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/tools/tools.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const tools = sequelizeClient.define('tools', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    description: {\n      type: DataTypes.TEXT,\n      allowNull: true\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  tools.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n    models.tools.belongsTo(models.users) // generates userId\n  }\n\n  return tools\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/tools.model.js","\nconst { authenticate } = require('@feathersjs/authentication').hooks\nconst { associateCurrentUser } = require('feathers-authentication-hooks')\nconst toolsBefore = require('../../hooks/tools-before')\nconst getAfter = require('../../hooks/get-after')\nmodule.exports = {\n  before: {\n    all: [authenticate('jwt')],\n    find: [toolsBefore()],\n    get: [toolsBefore()],\n    create: [associateCurrentUser({ idField: 'id' })],\n    update: [associateCurrentUser({ idField: 'id' })],\n    patch: [associateCurrentUser({ idField: 'id' })],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [getAfter()],\n    update: [getAfter()],\n    patch: [getAfter()],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/tools/tools.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    context.params.sequelize = {\n      include: [\n        { model: context.app.services.users.Model, attributes: ['email'] }\n      ]\n    }\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/tools-before.js","// Initializes the `projects-tools` service on path `/projects-tools`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/projects-tools.model')\nconst hooks = require('./projects-tools.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'projects-tools',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/projects-tools', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('projects-tools')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/projects-tools/projects-tools.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const projectsTools = sequelizeClient.define('projects_tools', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    name: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    },\n    priority: {\n      type: DataTypes.INTEGER,\n      allowNull: true\n    },\n    active: {\n      type: DataTypes.BOOLEAN,\n      allowNull: false,\n      defaultValue: false\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  projectsTools.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n    models.projects_tools.belongsTo(models.projects, { onDelete: 'CASCADE' }) // generates projectId\n    models.projects_tools.belongsTo(models.tools, { onDelete: 'CASCADE' }) // generates toolId\n    models.projects_tools.belongsTo(models.users) // generates userId\n  }\n\n  return projectsTools\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/projects-tools.model.js","const { authenticate } = require('@feathersjs/authentication').hooks\nconst { associateCurrentUser } = require('feathers-authentication-hooks')\nconst projectsToolsBefore = require('../../hooks/projects-tools-before')\nconst getAfter = require('../../hooks/get-after')\nmodule.exports = {\n  before: {\n    all: [ authenticate('jwt') ],\n    find: [projectsToolsBefore()],\n    get: [projectsToolsBefore()],\n    create: [associateCurrentUser({ idField: 'id' })],\n    update: [associateCurrentUser({ idField: 'id' })],\n    patch: [associateCurrentUser({ idField: 'id' })],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [getAfter()],\n    update: [getAfter()],\n    patch: [getAfter()],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/projects-tools/projects-tools.hooks.js","// Use this hook to manipulate incoming or outgoing data.\n// For more information on hooks see: http://docs.feathersjs.com/api/hooks.html\n\nmodule.exports = function (options = {}) { // eslint-disable-line no-unused-vars\n  return context => {\n    context.params.sequelize = {\n      include: [\n        { model: context.app.services.tools.Model, attributes: ['name'] },\n        { model: context.app.services.projects.Model, attributes: ['name'] },\n        { model: context.app.services.users.Model, attributes: ['email'] }\n      ]\n    }\n    return context\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/projects-tools-before.js","// Initializes the `logos` service on path `/logos`\nconst createService = require('feathers-sequelize')\nconst createModel = require('../../models/logos.model')\nconst hooks = require('./logos.hooks')\n\nmodule.exports = function (app) {\n  const Model = createModel(app)\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'logos',\n    Model,\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/logos', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('logos')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/logos/logos.service.js","// See http://docs.sequelizejs.com/en/latest/docs/models-definition/\n// for more of what you can do here.\nconst Sequelize = require('sequelize')\nconst DataTypes = Sequelize.DataTypes\n\nmodule.exports = function (app) {\n  const sequelizeClient = app.get('sequelizeClient')\n  const logos = sequelizeClient.define('logos', {\n    id: {\n      type: DataTypes.UUID,\n      primaryKey: true,\n      defaultValue: DataTypes.UUIDV4\n    },\n    data: {\n      type: DataTypes.TEXT,\n      allowNull: false\n    }\n  }, {\n    hooks: {\n      beforeCount (options) {\n        options.raw = true\n      }\n    }\n  })\n\n  logos.associate = function (models) { // eslint-disable-line no-unused-vars\n    // Define associations here\n    // See http://docs.sequelizejs.com/en/latest/docs/associations/\n    models.logos.belongsTo(models.companies, { onDelete: 'CASCADE' }) // generates companyId\n  }\n\n  return logos\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/logos.model.js","\nmodule.exports = {\n  before: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/logos/logos.hooks.js","// Initializes the `codetables` service on path `/codetables`\nconst createService = require('./codetables.class.js')\nconst hooks = require('./codetables.hooks')\n\nmodule.exports = function (app) {\n  const paginate = app.get('paginate')\n\n  const options = {\n    name: 'codetables',\n    paginate\n  }\n\n  // Initialize our service with any options it requires\n  app.use('/codetables', createService(options))\n\n  // Get our initialized service so that we can register hooks and filters\n  const service = app.service('codetables')\n\n  service.hooks(hooks)\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/codetables/codetables.service.js","/* eslint-disable no-unused-vars */\nconst xml2js = require('xml2js')\nconst path = require('path')\nconst fs = require('fs')\nconst iconv = require('iconv-lite')\nclass Service {\n  constructor (options) {\n    this.options = options || {}\n    this.filePath = process.env.XFM\n  }\n\n  async find (params) {\n    const files = await new Promise((resolve, reject) => {\n      fs.readdir(this.filePath, (err, files) => {\n        if (err) {\n          return reject(err)\n        }\n        resolve(files)\n      })\n    })\n    const names = []\n    files.forEach(file => {\n      let p = path.parse(file)\n      if (p.ext === '.xfm') {\n        names.push(p.name)\n      }\n    })\n    return names\n  }\n\n  get (id, params) {\n    return Promise.resolve().then(() => {\n      return new Promise((resolve, reject) => {\n        fs.readFile(path.join(this.filePath, `${id}.xfm`), function (err, data) {\n          if (err) {\n            return reject(err)\n          }\n          resolve(data)\n        })\n      })\n    }).then(data => {\n      let encoding = 'iso-8859-1'\n      if (data[0] === 255) {\n        encoding = 'utf-16'\n      }\n      data = iconv.decode(data, encoding)\n      return new Promise((resolve, reject) => {\n        const parser = new xml2js.Parser()\n        parser.parseString(data, function (err, result) {\n          if (err) {\n            return reject(err)\n          }\n          resolve(result)\n        })\n      })\n    }).then(result => {\n      const json = {\n        id: id,\n        layers: {}\n      }\n      result.GeospatialSchema.Workspace[0].Features[0].feature.forEach(element => {\n        if (element.hasOwnProperty('X34')) {\n          let options = {\n            name: element.$.alias,\n            category: element.$.category\n          }\n          element.X34.forEach(style => {\n            let width = style.WebGisWidth ? parseInt(style.WebGisWidth[0]) : 2\n            width = width > 2 ? width : 2\n            const color = style.WebGisColor ? style.WebGisColor[0] : '#000'\n            let dash = null\n            if (style.WebGisDash) {\n              dash = (style.WebGisDash[0].split(' ')).map(item => parseInt(item)).filter(item => { return !isNaN(item) })\n              if (dash.length < 2) {\n                dash = null\n              }\n            }\n            if (element.Symbology[0].$.type === 'linear') {\n              options.type = 'line'\n              options.paint = {\n                'line-color': color,\n                'line-width': width\n              }\n              if (dash) {\n                options.paint['line-dasharray'] = dash\n              }\n            } else if (element.Symbology[0].$.type === 'cell') {\n              options.type = 'circle'\n              options.paint = {\n                'circle-radius': {\n                  'base': 1.75,\n                  'stops': [[12, 2], [22, 10]]\n                },\n                'circle-opacity': 0.7,\n                'circle-color': color\n                // 'circle-stroke-color': style.WebGisColor ? style.WebGisColor[0] : '#000',\n                // 'circle-stroke-width': 2 // parseInt(style.WebGisWidth[0])\n              }\n            } else if (element.Symbology[0].$.type === 'shape') {\n              options.type = 'line'\n              options.paint = {\n                'line-color': color,\n                'line-width': width\n                /*\n                    'fill-outline-color': style.WebGisColor ? style.WebGisColor[0] : '#000',\n                    'fill-color': style.WebGisFillColor ? style.WebGisFillColor[0] : '#000',\n                    'fill-opacity': style.WebGisFillOpacity && !isNaN(parseFloat(style.WebGisFillOpacity[0])) ? parseFloat(style.WebGisFillOpacity[0]) : 1\n                    */\n              }\n              if (dash) {\n                options.paint['line-dasharray'] = dash\n              }\n            }\n            json.layers[element.$.name] = options\n          })\n        }\n      })\n      return json\n    }).catch(err => {\n      return err\n    })\n  }\n\n  async create (data, params) {\n    return data\n  }\n\n  async update (id, data, params) {\n    return data\n  }\n\n  async patch (id, data, params) {\n    return data\n  }\n\n  async remove (id, params) {\n    return { id }\n  }\n}\n\nmodule.exports = function (options) {\n  return new Service(options)\n}\n\nmodule.exports.Service = Service\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/codetables/codetables.class.js","module.exports = require(\"xml2js\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"xml2js\"\n// module id = 127\n// module chunks = 0","module.exports = require(\"iconv-lite\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"iconv-lite\"\n// module id = 128\n// module chunks = 0","\nmodule.exports = {\n  before: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/codetables/codetables.hooks.js","// Application hooks that run for every service\nconst logger = require('./hooks/logger')\n\nmodule.exports = {\n  before: {\n    all: [ logger() ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  after: {\n    all: [ logger() ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  },\n\n  error: {\n    all: [ logger() ],\n    find: [],\n    get: [],\n    create: [],\n    update: [],\n    patch: [],\n    remove: []\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.hooks.js","// A hook that logs service method before, after and error\n// See https://github.com/winstonjs/winston for documentation\n// about the logger.\nconst logger = require('winston')\n\n// To see more detailed messages, uncomment the following line\n// logger.level = 'debug';\n\nmodule.exports = function () {\n  return context => {\n    // This debugs the service call and a stringified version of the hook context\n    // You can customize the mssage (and logger) to your needs\n    logger.debug(`${context.type} app.service('${context.path}').${context.method}()`)\n\n    if (typeof context.toJSON === 'function') {\n      logger.debug('Hook Context', JSON.stringify(context, null, '  '))\n    }\n\n    if (context.error) {\n      logger.error(context.error)\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hooks/logger.js","module.exports = function (app) {\n  if (typeof app.channel !== 'function') {\n    // If no real-time functionality has been configured just return\n    return\n  }\n\n  app.on('connection', connection => {\n    // On a new real-time connection, add it to the anonymous channel\n    app.channel('anonymous').join(connection)\n  })\n  app.on('logout', (authResult, { connection }) => {\n    if (connection) {\n      app.channel('authenticated').leave(connection)\n    }\n    console.log('logout', app.channel('authenticated').length)\n  })\n\n  app.on('login', (authResult, { connection }) => {\n    console.log('login', app.channel('authenticated').connections.length)\n    // connection can be undefined if there is no\n    // real-time connection, e.g. when logging in via REST\n    if (connection) {\n      // Obtain the logged in user from the connection\n      // const user = connection.user;\n\n      // The connection is no longer anonymous, remove it\n      app.channel('anonymous').leave(connection)\n\n      // Add it to the authenticated user channel\n      app.channel('authenticated').join(connection)\n\n      // Channels can be named anything and joined on any condition\n\n      // E.g. to send real-time events only to admins use\n      // if(user.isAdmin) { app.channel('admins').join(connection); }\n\n      // If the user has joined e.g. chat rooms\n      // if(Array.isArray(user.rooms)) user.rooms.forEach(room => app.channel(`rooms/${room.id}`).join(channel));\n\n      // Easily organize users by email and userid for things like messaging\n      // app.channel(`emails/${user.email}`).join(channel);\n      // app.channel(`userIds/$(user.id}`).join(channel);\n    }\n  })\n  app.publish((data, hook) => { // eslint-disable-line no-unused-vars\n    // Here you can add event publishers to channels set up in `channels.js`\n    // To publish only for a specific event use `app.publish(eventname, () => {})`\n\n    // e.g. to publish all service events to all authenticated users use\n    // return app.channel('authenticated');\n    return app.channel('authenticated')\n    // console.log('publish', data)\n  })\n  // Here you can also add service specific event publishers\n  // e..g the publish the `users` service `created` event to the `admins` channel\n  // app.service('users').publish('created', () => app.channel('admins'));\n\n  // With the userid and email organization from above you can easily select involved users\n  // app.service('messages').publish(() => {\n  //   return [\n  //     app.channel(`userIds/${data.createdBy}`),\n  //     app.channel(`emails/${data.recipientEmail}`)\n  //   ];\n  // });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/channels.js","const authentication = require('@feathersjs/authentication')\nconst jwt = require('@feathersjs/authentication-jwt')\nconst local = require('@feathersjs/authentication-local')\nconst authManagement = require('feathers-authentication-management')\nconst notifier = require('./notifier')\nconst ldap = require('feathers-authentication-ldap')\nconst LDAPVerifier = require('./ldap')\n\nmodule.exports = function (app) {\n  const config = app.get('authentication')\n\n  // Set up authentication with the secret\n  app.configure(authentication(config))\n  app.configure(jwt())\n  app.configure(local())\n  app.configure(ldap({\n    // Optional: overwrite Verifier function\n    Verifier: LDAPVerifier\n  }))\n  app.configure(authManagement(notifier(app)))\n  // The `authentication` service is used to create a JWT.\n  // The before `create` hook registers strategies that can be used\n  // to create a new valid JWT (e.g. local or oauth2)\n  app.service('authentication').hooks({\n    before: {\n      create: [\n        authentication.hooks.authenticate(config.strategies)\n      ],\n      remove: [\n        authentication.hooks.authenticate('jwt')\n      ]\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/authentication.js","module.exports = require(\"@feathersjs/authentication-jwt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@feathersjs/authentication-jwt\"\n// module id = 134\n// module chunks = 0","module.exports = require(\"feathers-authentication-ldap\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"feathers-authentication-ldap\"\n// module id = 135\n// module chunks = 0","class LDAPVerifier {\n  constructor (app, options = {}) {\n    this.app = app\n    this.options = options\n    this.service = typeof options.service === 'string' ? app.service(options.service) : options.service\n    if (!this.service) {\n      throw new Error(`options.service does not exist.\\n\\tMake sure you are passing a valid service path or service instance and it is initialized before ldap.js.`)\n    }\n    this.verify = this.verify.bind(this)\n  }\n  _normalizeResult (results) {\n    // Paginated services return the array of results in the data attribute.\n    let entities = results.data ? results.data : results\n    let entity = entities[0]\n\n    // Handle bad username.\n    if (!entity) {\n      return Promise.reject(false); // eslint-disable-line\n    }\n    return Promise.resolve(entity)\n  }\n  verify (req, user, done) {\n    const id = this.service.id\n    const usernameField = this.options.entityUsernameField || this.options.usernameField\n    const params = {\n      'query': {\n        [usernameField]: user.mail,\n        '$limit': 1\n      }\n    }\n\n    if (id === null || id === undefined) {\n      return done(new Error('the `id` property must be set on the entity service for authentication'))\n    }\n\n    // Look up the entity\n    this.service.find(params).then(response => {\n      const results = response.data || response\n      if (!results.length) {\n        return this.service.create({email: user.mail, name: user.cn, companyId: '6714a515-bec0-4d2b-a5e4-76d16cb845c0'}).then(response => {\n          return this._normalizeResult([response])\n        })\n      }\n      return this._normalizeResult(response)\n    }).then(entity => {\n      const id = entity[this.service.id]\n      const payload = { [`${this.options.entity}Id`]: id }\n      done(null, entity, payload)\n    }).catch(error => error ? done(error) : done(null, error, { message: 'Invalid login' }))\n  }\n}\n\nmodule.exports = LDAPVerifier\n\n\n\n// WEBPACK FOOTER //\n// ./src/ldap.js","const Sequelize = require('sequelize')\nconst seed = require('./seed')\nmodule.exports = function (app) {\n  const connectionString = app.get('postgres')\n  const sequelize = new Sequelize(connectionString, {\n    dialect: 'postgres',\n    logging: false,\n    define: {\n      freezeTableName: true\n    }\n  })\n  const oldSetup = app.setup\n\n  app.set('sequelizeClient', sequelize)\n\n  app.setup = function (...args) {\n    const result = oldSetup.apply(this, args)\n\n    // Set up data relationships\n    const models = sequelize.models\n    Object.keys(models).forEach(name => {\n      if ('associate' in models[name]) {\n        models[name].associate(models)\n      }\n    })\n\n    // Sync to the database\n    sequelize.sync().then(() => {\n      app.configure(seed)\n    })\n\n    return result\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/sequelize.js","const rolesData = require('./roles.js')\n// const usersData = require('./users.js')\nconst companiesData = require('./companies.js')\nconst datasourcetypesData = require('./datasourcetypes.js')\nconst Tiler = require('../tiler.js')\n\nmodule.exports = function (app) {\n  const ifEmptyCreate2 = ifEmptyCreate.bind(this)\n  app.configure(ifEmptyCreate2('roles', rolesData))\n  // app.configure(ifEmptyCreate2('users', usersData))\n  app.configure(ifEmptyCreate2('companies', companiesData))\n  app.configure(ifEmptyCreate2('datasourcetypes', datasourcetypesData))\n  app.configure(tile)\n}\n\n// ### ifEmptyCreate(model, data)\n/**\n * If the model is empty then populate it's data\n * @param {object} model Mongoose Model\n * @param {object|object[]} data Object data or Array of Object data to insert\n * @return {function} Returns a method to be called by configure\n */\nfunction ifEmptyCreate (name, data) {\n  return async () => {\n    try {\n      let found = await this.service(name).find({query: {}})\n      if (found && Number.isInteger(found.total) && Array.isArray(found.data)) {\n        found = found.data\n      }\n      if (found.length !== 0) { return false }\n      await this.service(name).create(data)\n      console.log('default ' + name + ' created')\n    } catch (err) {\n      if (err) { console.log('trouble seeding ' + name + ': ', err) }\n    }\n  }\n}\n\nfunction tile () {\n  const service = this.service('datasources')\n  return service.find({\n    query: {\n      progress: {\n        $lt: 100\n      }\n    }\n  }).then(data => {\n    data.forEach(item => {\n      if (item.meta && item.meta === 0) {\n        const tiler = new Tiler(item, service)\n        tiler.create()\n      }\n    })\n  }).catch(function (error) {\n    console.error(error)\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/seed/index.js","const system = {\n  name: 'system'\n}\n\nconst admin = {\n  name: 'admin'\n}\n\nconst basic = {\n  name: 'basic'\n}\n\nmodule.exports = [system, admin, basic]\n\n\n\n// WEBPACK FOOTER //\n// ./src/seed/roles.js","const clients = [\n  {\n    id: '5b9462c3-bd11-4bd0-8937-7db762fb22c0',\n    name: 'Wicotec Kirkebjerg A/S',\n    cvrno: '73585511',\n    type: 'opdragsgiver',\n    clients: ['edaf7d39-985a-4396-85ff-d5a5d4450a16', 'b927d198-351f-4c5d-9054-424bf6fb7c94']\n  },\n  {\n    id: '6714a515-bec0-4d2b-a5e4-76d16cb845c0',\n    name: 'LE34',\n    cvrno: '27758592',\n    type: 'opdragsgiver',\n    clients: ['0b67b5af-ed80-4860-9c49-864060d8ae25', 'b927d198-351f-4c5d-9054-424bf6fb7c94']\n  },\n  {\n    id: '1ec75ea6-7022-4813-9e2d-2630003ea392',\n    name: 'JFE A/S',\n    cvrno: '74760716',\n    type: 'opdragsgiver',\n    clients: ['b428964d-13b3-4aea-91ad-4e32f3481959', '7282afcb-b458-4c6b-b57b-a5cb9e5a6a68', 'bd52f4a5-2cfe-4aff-a0dc-cca6e50f463b']\n  },\n  {\n    id: 'edaf7d39-985a-4396-85ff-d5a5d4450a16',\n    name: 'Albertslund Varmeværk',\n    cvrno: '1003267160',\n    type: 'slutbruger'\n  },\n  {\n    id: 'b927d198-351f-4c5d-9054-424bf6fb7c94',\n    name: 'Hvalsø Kraftvarmeværk',\n    cvrno: '44057212',\n    type: 'slutbruger'\n  },\n  {\n    id: '0b67b5af-ed80-4860-9c49-864060d8ae25',\n    name: 'Egedal Fjernvarme',\n    cvrno: '35410538',\n    type: 'slutbruger'\n  },\n  {\n    id: '1d95ef7d-e51a-42f4-82fa-91b277f4c148',\n    name: 'EnergiMidt',\n    cvrno: '36423544',\n    type: 'slutbruger'\n  },\n  {\n    id: 'b428964d-13b3-4aea-91ad-4e32f3481959',\n    name: 'Solrød Fjernvarme amba',\n    cvrno: '23104113',\n    type: 'slutbruger'\n  },\n  {\n    id: '7282afcb-b458-4c6b-b57b-a5cb9e5a6a68',\n    name: 'Rødovre Kommunale Fjernvarmeforsyning',\n    cvrno: '6530731677',\n    type: 'slutbruger'\n  },\n  {\n    id: 'bd52f4a5-2cfe-4aff-a0dc-cca6e50f463b',\n    name: 'Norfors I/S',\n    cvrno: '14748539',\n    type: 'slutbruger'\n  },\n  {\n    id: '7c830e38-9903-44e6-98f7-7f79941b16ff',\n    name: 'DONG',\n    cvrno: '1234',\n    type: 'slutbruger'\n  },\n  {\n    id: 'c06ea06e-25b5-473e-80ec-abd894a27ddc',\n    name: 'KE_Transmission',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: 'f4e2bbf9-55b7-4e59-9ff0-2155544fc1fe',\n    name: 'Kemp_Lauritzen',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: 'aa160aff-b9be-4cdc-8590-fd203644c5e7',\n    name: 'NCC',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: 'b9e22955-89ce-43e6-87f6-4de131436a22',\n    name: 'Demo',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: '2e8df1dd-458d-4c8e-8498-7f79931b15ff',\n    name: 'MTH',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: 'd78ae731-0026-46fd-be2b-c05e6663cfe5',\n    name: 'Bravida',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: '020c4051-b910-438c-a50b-8a3fe1898fda',\n    name: 'Nordkysten',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  },\n  {\n    id: '7c730e38-9903-44e6-98f7-9c32c87c9c03',\n    name: 'Munck',\n    cvrno: '',\n    type: 'opdragsgiver',\n    clients: ['7c830e38-9903-44e6-98f7-7f79941b16ff']\n  }\n]\n\nmodule.exports = clients.map(client => {\n  return {\n    id: client.id,\n    name: client.name,\n    cvr: client.cvrno\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/seed/companies.js","const database = {\n  name: 'database'\n}\n\nconst geotiff = {\n  name: 'geotiff'\n}\n\nconst geojson = {\n  name: 'geojson'\n}\n\nmodule.exports = [geojson, geotiff, database]\n\n\n\n// WEBPACK FOOTER //\n// ./src/seed/datasourcetypes.js"],"sourceRoot":""}